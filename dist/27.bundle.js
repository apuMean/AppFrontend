webpackJsonp([27],{1386:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return{estimateDetail:e.estimate.estimateDetails,revisionNo:e.estimate.revisionNo,proposalList:e.estimate.proposalList,projectList:e.estimate.projectList,estimateStages:e.estimate.estimateStages,salesRepList:e.estimate.salesRepList,companyList:e.estimate.companyList,individualList:e.estimate.individualList,employeeList:e.estimate.employeeList}}function m(e){return{actions:(0,C.bindActionCreators)(k,e),settingsActions:(0,C.bindActionCreators)(K,e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),f=s(u),p=a(3),h=a(7),E=s(h),b=a(1),N=s(b),y=a(6),v=a(8),g=s(v),C=a(5),S=a(76),I=s(S),x=a(102),k=l(x),T=a(195),A=l(T),O=a(16),L=l(O),w=a(41),D=s(w),P=a(599),V=s(P),F=a(584),M=s(F);a(10);var j=a(26),R=l(j),z=a(581),W=l(z),U=a(598),H=s(U),B=a(25),q=l(B),J=a(1512),Y=s(J),Z=(a(586),a(587)),K=l(Z),Q=a(203),G=s(Q),X=a(12),ee=s(X),te=a(9),ae=(s(te),a(77)),le=l(ae),se=f.default.createElement(p.Link,{to:"/estimate"},"Estimates"),ie=f.default.createElement("td",{className:"unselectable"},""),ne=f.default.createElement("td",{className:"unselectable"},""),de=f.default.createElement("td",{className:"unselectable"},""),re=f.default.createElement("b",null,"Labor: "),oe=f.default.createElement("td",{className:"unselectable"},""),me=f.default.createElement("td",{className:"unselectable"},""),ce=f.default.createElement("td",{className:"unselectable"},""),ue=f.default.createElement("td",{className:"unselectable"},""),fe=f.default.createElement("td",{className:"unselectable"},""),pe=f.default.createElement("b",null,"Shipping: "),he=f.default.createElement("td",{className:"unselectable"},""),Ee=f.default.createElement("td",{className:"unselectable"},""),be=f.default.createElement("td",{className:"unselectable"},""),Ne=f.default.createElement("b",null,"Labor: "),ye=f.default.createElement("td",{className:"unselectable"},""),ve=f.default.createElement("td",{className:"unselectable"},""),ge=f.default.createElement("td",{className:"unselectable"},""),_e=f.default.createElement("td",{className:"unselectable"},""),Ce=f.default.createElement("td",{className:"unselectable"},""),Se=f.default.createElement("td",{className:"unselectable"},""),Ie=f.default.createElement("td",{className:"unselectable"},""),xe=f.default.createElement("td",{className:"unselectable"},""),ke=f.default.createElement("b",null,"Shipping: "),Te=f.default.createElement("td",{className:"unselectable"},""),Ae=f.default.createElement("td",{className:"unselectable"},""),Oe=f.default.createElement("td",{className:"unselectable"},""),Le=f.default.createElement("td",{className:"unselectable"},""),we=f.default.createElement("td",{className:"unselectable"},""),De=f.default.createElement("td",{className:"unselectable"},""),Pe=f.default.createElement("td",{className:"unselectable"},""),Ve=f.default.createElement("td",{className:"unselectable"},""),Fe=f.default.createElement("td",{className:"unselectable"},""),Me=f.default.createElement("td",{className:"unselectable"},""),je=f.default.createElement("b",null,"Labor: "),$e=f.default.createElement("td",{className:"unselectable"},""),Re=f.default.createElement("b",null,"Shipping: "),ze=f.default.createElement("td",{className:"unselectable"},""),We=f.default.createElement("td",{className:"unselectable"},""),Ue=f.default.createElement("td",{className:"unselectable"},""),He=f.default.createElement("td",{className:"unselectable"},""),Be=f.default.createElement("td",{className:"unselectable"},""),qe=f.default.createElement("td",{className:"unselectable"},""),Je=f.default.createElement("td",{className:"unselectable"},""),Ye=f.default.createElement("td",{className:"unselectable"},""),Ze=f.default.createElement("i",{className:"icon-plus"}),Ke=f.default.createElement("i",{className:"icon-cursor"}),Qe=f.default.createElement("i",{className:"icon-plus"}),Ge=f.default.createElement(p.Link,{to:"/estimate",className:"btn btn-sm btn-circle red"},"Cancel "),Xe=f.default.createElement("div",{className:"portlet-title tabbable-line"},f.default.createElement("ul",{className:"nav nav-tabs"},f.default.createElement("li",{className:"active"},f.default.createElement("a",{href:"#estimate-add","data-toggle":"tab"}," Estimate ")),f.default.createElement("li",null,f.default.createElement("a",{href:"#estimate-moreinfo","data-toggle":"tab"}," More Info ")),f.default.createElement("li",null,f.default.createElement("a",{href:"#estimate-memos","data-toggle":"tab"},"Memos")))),et=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"General Details"))),tt=f.default.createElement("u",{className:"dottedUnderline"},"-"),at=f.default.createElement("label",{htmlFor:"name",className:"labels_top"},"Estimate Name"),lt=f.default.createElement("label",{htmlFor:"customer"},"Customer"),st=f.default.createElement("u",{className:"dottedUnderline"},"-"),it=f.default.createElement("label",{htmlFor:"customer"},"Customer"),nt=f.default.createElement("label",{htmlFor:"individual"},"Customer Contact"),dt=f.default.createElement("u",{className:"dottedUnderline"},"-"),rt=f.default.createElement("label",{htmlFor:"individual"},"Customer Contact"),ot=f.default.createElement("option",{value:"0"},"Select"),mt=f.default.createElement("u",{className:"dottedUnderline"},"-"),ct=f.default.createElement("label",{htmlFor:"proposal"},"Proposal #"),ut=f.default.createElement("option",{value:"0"},"Select"),ft=f.default.createElement("label",{htmlFor:"project"},"Project"),pt=f.default.createElement("label",{htmlFor:"date"},"Date"),ht=f.default.createElement("label",{htmlFor:"estimateNo"},"Estimate #"),Et=f.default.createElement("label",{htmlFor:"salesrep"},"Sales Rep"),bt=f.default.createElement("u",{className:"dottedUnderline"},"-"),Nt=f.default.createElement("label",{htmlFor:"salesrep"},"Sales Rep"),yt=f.default.createElement("u",{className:"dottedUnderline"},"-"),vt=f.default.createElement("label",{htmlFor:"stage"},"Stage"),gt=f.default.createElement("u",{className:"dottedUnderline"},"-"),_t=f.default.createElement("label",{htmlFor:"opportunity"},"Estimate Notes"),Ct=f.default.createElement("div",{className:"caption"},f.default.createElement("i",{className:"icon-share font-dark"}),f.default.createElement("span",{className:"caption-subject font-dark bold uppercase"},"Line Items")),St=f.default.createElement("th",{className:"items"},"#"),It=f.default.createElement("th",{className:"items"},"Mfg"),xt=f.default.createElement("th",{className:"items"},"Model No"),kt=f.default.createElement("th",{className:"items"},"Part No"),Tt=f.default.createElement("th",{className:"items"},"Desc"),At=f.default.createElement("th",{className:"items"},"Qty"),Ot=f.default.createElement("th",{className:"rowtotal"},"Row Total"),Lt=f.default.createElement("td",null),wt=f.default.createElement("td",null),Dt=f.default.createElement("td",null),Pt=f.default.createElement("td",null),Vt=f.default.createElement("td",null),Ft=f.default.createElement("td",null),Mt=f.default.createElement("th",{className:"items",rowSpan:"2"},"#"),jt=f.default.createElement("th",{className:"items",rowSpan:"2"},"Qty"),$t=f.default.createElement("th",{className:"material",colSpan:"8"},"Material"),Rt=f.default.createElement("th",{className:"rowtotal",rowSpan:"2"},"Row Total"),zt=f.default.createElement("tr",null,f.default.createElement("th",{className:"material"},"Taxable"),f.default.createElement("th",{className:"material"},"Our Cost"),f.default.createElement("th",{className:"material"},"Our Cost Ext"),f.default.createElement("th",{className:"material"},"Mark Up"),f.default.createElement("th",{className:"material"},"Cost"),f.default.createElement("th",{className:"material"},"Extended"),f.default.createElement("th",{className:"material"},"Tax"),f.default.createElement("th",{className:"material"},"Tax Extended")),Wt=f.default.createElement("td",null),Ut=f.default.createElement("td",null),Ht=f.default.createElement("td",null),Bt=f.default.createElement("td",null),qt=f.default.createElement("td",null),Jt=f.default.createElement("td",null),Yt=f.default.createElement("td",null),Zt=f.default.createElement("th",{className:"items",rowSpan:"2"},"#"),Kt=f.default.createElement("th",{className:"items",rowSpan:"2"},"Qty"),Qt=f.default.createElement("th",{className:"labor",colSpan:"6"},"Labor"),Gt=f.default.createElement("th",{className:"rowtotal",rowSpan:"2"},"Row Total"),Xt=f.default.createElement("tr",null,f.default.createElement("th",{className:"labor"},"Type"),f.default.createElement("th",{className:"labor"},"Hrs"),f.default.createElement("th",{className:"labor"},"Hrs Ext"),f.default.createElement("th",{className:"labor"},"Rate"),f.default.createElement("th",{className:"labor"},"Unit"),f.default.createElement("th",{className:"labor"},"Extended")),ea=f.default.createElement("td",null),ta=f.default.createElement("td",null),aa=f.default.createElement("td",null),la=f.default.createElement("td",null),sa=f.default.createElement("td",null),ia=f.default.createElement("td",null),na=f.default.createElement("label",{htmlFor:"revisionNotes"},"Revision Notes"),da=f.default.createElement("caption",{className:"font-dark bold uppercase"},"Material"),ra=f.default.createElement("th",{colSpan:"1"},"Cost"),oa=f.default.createElement("th",{colSpan:"1"},"Our Cost Total"),ma=f.default.createElement("th",{colSpan:"1"},"Tax"),ca=f.default.createElement("th",{colSpan:"1"},"Shipping"),ua=f.default.createElement("th",{colSpan:"1"},"Total"),fa=f.default.createElement("th",{colSpan:"1"},"Markup %"),pa=f.default.createElement("th",{colSpan:"1"},"Markup Total"),ha=f.default.createElement("caption",{className:"font-dark bold uppercase"},"Labor"),Ea=f.default.createElement("caption",{className:"font-dark bold uppercase"},"Total"),ba=f.default.createElement("th",{colSpan:"1"},"Material"),Na=f.default.createElement("th",{colSpan:"1"},"Labor"),ya=f.default.createElement("th",{colSpan:"1"},"Tax"),va=f.default.createElement("th",{colSpan:"1"},"Shipping"),ga=f.default.createElement("th",{className:"caption-subject font-dark bold uppercase",colSpan:"1"},"Grand Total"),_a=f.default.createElement("div",{className:"portlet-title tabbable-line"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject font-dark bold uppercase"},"Other Details"))),Ca=f.default.createElement("label",{htmlFor:"title"},"Title"),Sa=f.default.createElement("label",{htmlFor:"createdby"},"Created By"),Ia=f.default.createElement("label",{htmlFor:"createdon"},"On"),xa=f.default.createElement("label",{htmlFor:"estimateNo"},"Estimate #"),ka=f.default.createElement("label",{htmlFor:"modifiedby"},"Modified By"),Ta=f.default.createElement("label",{htmlFor:"modifiedon"},"On"),Aa=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"Billing Address Details"))),Oa=f.default.createElement("u",{className:"dottedUnderline"},"-"),La=f.default.createElement("label",{htmlFor:"billAddr1"},"Address 1"),wa=f.default.createElement("u",{className:"dottedUnderline"},"-"),Da=f.default.createElement("label",{htmlFor:"billAddr2"},"Address 2"),Pa=f.default.createElement("u",{className:"dottedUnderline"},"-"),Va=f.default.createElement("label",{htmlFor:"shipAddr"},"City"),Fa=f.default.createElement("u",{className:"dottedUnderline"},"-"),Ma=f.default.createElement("label",{htmlFor:"shipAddr"},"State"),ja=f.default.createElement("u",{className:"dottedUnderline"},"-"),$a=f.default.createElement("label",{htmlFor:"shipAddr"},"Zip"),Ra=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"Shipping Address Details"))),za=f.default.createElement("u",{className:"dottedUnderline"},"-"),Wa=f.default.createElement("label",{htmlFor:"billAddr"},"Address 1"),Ua=f.default.createElement("u",{className:"dottedUnderline"},"-"),Ha=f.default.createElement("label",{htmlFor:"shipAddr"},"Address 2"),Ba=f.default.createElement("u",{className:"dottedUnderline"},"-"),qa=f.default.createElement("label",{htmlFor:"shipAddr"},"City"),Ja=f.default.createElement("u",{className:"dottedUnderline"},"-"),Ya=f.default.createElement("label",{htmlFor:"shipAddr"},"State"),Za=f.default.createElement("u",{className:"dottedUnderline"},"-"),Ka=f.default.createElement("label",{htmlFor:"shipAddr"},"Zip"),Qa=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"actions"},f.default.createElement("a",{href:"#est_memos","data-toggle":"modal","data-backdrop":"static","data-keyboard":"false",className:"btn btn-sm btn-circle green"},f.default.createElement("i",{className:"icon-plus"}),"Add Memo"))),Ga=f.default.createElement("th",null,"User"),Xa=f.default.createElement("th",null,"Date/Time"),el=f.default.createElement("th",null,"Message"),tl=f.default.createElement("div",{className:"modal-header"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"Add Memo"))),al=f.default.createElement("button",{type:"button","data-dismiss":"modal",className:"btn dark btn-outline"},"Cancel"),ll=f.default.createElement("div",{className:"modal-header"},f.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"}),f.default.createElement("div",{className:"actions"},f.default.createElement("h5",{className:"modal-title"},"Create New Project/SO"))),sl=f.default.createElement("label",{htmlFor:"project"},"Project/Site Name",f.default.createElement("span",{className:"required"},"*")),il=f.default.createElement("label",{htmlFor:"projectmanager"},"Project Manager",f.default.createElement("span",{className:"required"},"*")),nl=f.default.createElement("label",null,"Project"),dl=f.default.createElement("label",null,"Service Order"),rl=f.default.createElement("button",{type:"button","data-dismiss":"modal",className:"btn dark btn-outline"},"Cancel"),ol=function(e){function t(e,a){n(this,t);var l=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return(0,g.default)(l),l.state={estimateDetails:"",itemDetails:[],billAddress:"",shipAddress:"",estimateId:"",revisedItems:[],itemPricedData:[],expandTotal:!1,itemTab:"active",materialTab:"",laborTab:"",revisionNo:0,isCheckedEmpty:!1,isCheckedDuplicate:!0,memoList:[],breadcrumb:!0,endpoint:q.SOCKETURL,showWarnHead:!1,modifierName:"",showEditConfirmModal:!1,editTitle:"",estimateName:"",proposalValue:"",proposalOptions:[],projectValue:"",projectOptions:[],editProposal:!1,editEstimateName:!1,editProject:!1,editStage:!1,stageOptions:[],stageValue:"",estimateNote:"",editEstimateNote:!1,editProposedService:!1,b_add1:"",b_add2:"",b_city:"",b_state:"",b_zip:"",s_add1:"",s_add2:"",s_city:"",s_state:"",s_zip:"",editb_add1:!1,editb_add2:!1,editb_city:!1,editb_state:!1,editb_zip:!1,edits_add1:!1,edits_add2:!1,edits_city:!1,edits_state:!1,edits_zip:!1,salesrepOptions:[],salesrepValue:"",query:"",editSalesRep:!1,companyOptions:[],companyValue:"",editCompany:!1,individualOptions:[],individualValue:"",editContact:!1,proposedServiceValue:G.default.createEmptyValue(),PMOptions:[],projectMngValue:"",projectRadioValue:""},l}return r(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e,t){var a=[],l=[],s=[],i=[],n=[],d=[];if(e.revisionNo)this.setState({revisionNo:e.revisionNo?e.revisionNo:0});else if(0==e.companyList.length&&0==e.individualList.length&&0==e.salesRepList.length&&e.estimateDetail.estimateDetails){var r=JSON.parse(JSON.stringify(e.estimateDetail.estimateDetails)),o=JSON.parse(JSON.stringify(e.estimateDetail.itemLists));r.billingAddress1,r.billingAddress2,r.billingcity,r.billingstate,r.billingzip,r.shippingAddress1,r.shippingAddress2,r.shippingcity,r.shippingstate,r.shippingzip;o.length>0&&(a=o[0].lineItems);var m={value:r.salesRep?r.salesRep._id:"",label:r.salesRep?r.salesRep.firstname+" "+r.salesRep.lastname:""},c={value:r.customerId?r.customerId._id:"",label:r.customerId?r.customerId.companyName:""},u={value:r.individualId?r.individualId._id:"",label:r.individualId?r.individualId.firstname+" "+r.individualId.lastname:""};if(this.setState({proposalValue:r.proposalId?r.proposalId:"",projectValue:r.projectId?r.projectId:"",stageValue:r.stage?r.stage:"",estimateName:r.estimateName,estimateNote:r.note,estimateDetails:r,revisedItems:o,itemPricedData:a,b_add1:r.billingAddress1?r.billingAddress1:"",b_add2:r.billingAddress2?r.billingAddress2:"",b_city:r.billingcity?r.billingcity:"",b_state:r.billingstate?r.billingstate:"",b_zip:r.billingzip?r.billingzip:"",s_add1:r.shippingAddress1?r.shippingAddress1:"",s_add2:r.shippingAddress2?r.shippingAddress2:"",s_city:r.shippingcity?r.shippingcity:"",s_state:r.shippingstate?r.shippingstate:"",s_zip:r.shippingzip?r.shippingzip:"",salesrepValue:m,companyValue:c,individualValue:u.value?u:"",memoList:r.memo?r.memo.reverse():[],proposedServiceValue:r.proposedServices?G.default.createValueFromString(r.proposedServices,"html"):G.default.createEmptyValue()},function(){return console.log}),this.state.breadcrumb&&r.estimateNumber){var f={parent:se,childone:"#"+r.estimateNumber+" ("+(r.estimateName?r.estimateName:r.customerId.companyName)+")",childtwo:""};this.props.breadCrumb(f),this.state.breadcrumb=!1}$("div#estimateList").unblock()}if(0!=e.salesRepList.length){e.salesRepList.map(function(e,t){var a={value:e._id,label:e.firstname+" "+e.lastname};l.push(a)}.bind(this))}if(0!=e.companyList.length){e.companyList.map(function(e,t){var a={value:e._id,label:e.companyName};s.push(a)}.bind(this))}if(0!=e.individualList.length){e.individualList.map(function(e,t){var a={value:e._id,label:e.firstname+" "+e.lastname};i.push(a)}.bind(this))}if(0!=e.projectList.length){e.projectList.map(function(e,t){var a=e.title.length>=50?"...":"",l=e.title.substr(0,50),s={_id:e._id,title:l+""+a};n.push(s)}.bind(this))}if(0!=e.employeeList.length){console.log("employeeList",e.employeeList);e.employeeList.map(function(e,t){var a={value:e._id,label:e.firstname+" "+e.lastname};d.push(a)})}this.setState({proposalOptions:e.proposalList,projectOptions:n,stageOptions:e.estimateStages,salesrepOptions:l,companyOptions:s,individualOptions:i,PMOptions:d}),$(".lineitem").tableHeadFixer()}},{key:"componentWillMount",value:function(){var e=this,t=(0,H.default)(this.state.endpoint);t.on("update estimate",function(t){e.setState({showWarnHead:!0,modifierName:t})}),t.on("edit in progress",function(t){var a="This Estimate is already been Edited by "+t;e.setState({editTitle:a,showEditConfirmModal:!0})});var a={estimateId:this.props.params.estimateId};this.props.actions.getEstimateDetails(a),setTimeout(function(){L.EstimateTable.init()},2e3);var l={companyId:localStorage.companyId},s={companyId:localStorage.companyId,moduleType:1};this.props.actions.getProposalData(l),this.props.actions.getProjectData(l),this.props.settingsActions.getEstimateStages(s),this.handleSalesSearchDebounced=_.debounce(function(){this.state.query&&this.props.actions.getSalesRepData(this.state.query)},350),this.handleCompanySearchDebounced=_.debounce(function(){this.state.query&&this.props.actions.getCompanyList(this.state.query)},350),this.handleContactSearchDebounced=_.debounce(function(){this.state.query&&this.props.actions.getIndividualData(this.state.query)},350),this.handlePMDebounced=_.debounce(function(){this.state.query&&this.props.actions.getCompanyEmployeesList(this.state.query)},350)}},{key:"componentDidMount",value:function(){R.showLoader("estimateList")}},{key:"handleDelete",value:function(){this.setState({estimateId:this.props.params.estimateId}),$("#estimate_delete").modal("show")}},{key:"handleExpand",value:function(e){if("TOTAL"===e){var t=!this.state.expandTotal;this.setState({expandTotal:t})}else if("HOURS"===e){var a=!this.state.expandHours;this.setState({expandHours:a})}}},{key:"deleteEstimateHandler",value:function(){if(this.state.estimateId){$("#estimate_delete").modal("hide"),R.showLoader("estimateList");var e={estimateId:this.state.estimateId};this.props.actions.deleteEstimate(e)}}},{key:"handleProjectSOModal",value:function(){$("#select-addType").modal("show")}},{key:"handleRevisionModal",value:function(){this.props.actions.getRevisionCount({estimateId:this.props.params.estimateId});var e=this.state.revisedItems;e.length;this.setState({isCheckedEmpty:!1,isCheckedDuplicate:!0}),$("#add_revision").modal("show")}},{key:"handleRadioUpdate",value:function(e,t){"EMPTY"===e?this.setState({isCheckedEmpty:!0,isCheckedDuplicate:!1}):"DUPLICATE"===e&&this.setState({isCheckedEmpty:!1,isCheckedDuplicate:!0})}},{key:"addRevisionhandler",value:function(){if(toastr.remove(),this.state.isCheckedDuplicate)if("0"!==E.default.findDOMNode(this.refs.revised.refs.revision_name).value){var e=E.default.findDOMNode(this.refs.revised.refs.revision_name).value,t=this.state.revisedItems.find(function(t){return t._id===e}),a={companyId:localStorage.companyId,estimateId:this.props.params.estimateId,revisionName:"Rev"+this.state.revisionNo,item:t.lineItems,proposedServices:this.state.proposedServiceValue.toString("html")};$("#add_revision").modal("hide"),this.props.actions.addOtherRevision(a,1)}else toastr.error("Please select a revision");else if(this.state.isCheckedEmpty){var l={companyId:localStorage.companyId,estimateId:this.props.params.estimateId,revisionName:"Rev"+this.state.revisionNo,item:[],proposedServices:this.state.proposedServiceValue?this.state.proposedServiceValue.toString("html"):""};$("#add_revision").modal("hide"),this.props.actions.addOtherRevision(l,1)}}},{key:"handleLineTab",value:function(e){1===e?this.setState({itemTab:"active",materialTab:"",laborTab:""}):2===e?this.setState({itemTab:"",materialTab:"active",laborTab:""}):3===e&&this.setState({itemTab:"",materialTab:"",laborTab:"active"})}},{key:"handleMemoAdd",value:function(){toastr.remove();var e=E.default.findDOMNode(this.refs.estMemo).value.trim();if(""!==e){var t={estimateId:this.props.params.estimateId,message:e,userName:localStorage.userName};this.props.actions.addEstMemos(t);var a={message:e,userName:localStorage.userName,createdAt:(0,N.default)()},l=this.state.memoList;l.unshift(a),this.setState({memoList:l});$("#estimate_memos").DataTable().destroy(),setTimeout(function(){L.EstimateTable.init()},2e3),$("#est_memos").modal("hide")}else toastr.error("Please enter a valid memo.")}},{key:"handleRevisionExport",value:function(){if(0!=this.state.revisedItems.length){var e=this.state.revisedItems[0];if(0!=e.lineItems.length){var t={revisionId:e._id};this.props.actions.getExportedRevision(t)}else toastr.error("No line items for this revision.")}}},{key:"handleMaterialDetail",value:function(e){e&&window.open("/material/"+e,"_blank")}},{key:"handleEditWithSocket",value:function(){this.state.showEditConfirmModal&&$("#confirmEdit").modal("show"),this.setState({showEditConfirmModal:!1})}},{key:"EditConfirmationHandler",value:function(e){e.preventDefault(),p.browserHistory.push("/estimate/"+this.props.params.estimateId+"/edit"),$("#confirmEdit").modal("hide")}},{key:"handleInlineEditChange",value:function(e){if("estimateName"===e.target.name){var t={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,estimateName:e.target.value.trim()};this.props.actions.estimateInlineEdit(t)}}},{key:"handleEstimateNameChange",value:function(e){var t=E.default.findDOMNode(this.refs.ename).value.trim();if(""!=t){var a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,estimateName:t};this.setState({estimateName:t,editEstimateName:!1}),this.props.actions.estimateInlineEdit(a)}else toastr.error("This Field Cannot be Empty")}},{key:"handleEstimateNoteChange",value:function(e){var t=this.refs.note?E.default.findDOMNode(this.refs.note).value.trim():"";if(""!=t){var a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,note:t};this.setState({estimateNote:t,editEstimateNote:!1}),this.props.actions.estimateInlineEdit(a)}}},{key:"handleProposedServiceChange",value:function(){var e={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,proposedServices:this.state.proposedServiceValue.toString("html")};this.setState({editProposedService:!1}),this.props.actions.estimateInlineEdit(e)}},{key:"handle_b_Add1Change",value:function(e){var t=E.default.findDOMNode(this.refs.b_add1).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,billingAddress1:t};this.setState({b_add1:t,editb_add1:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_b_Add2Change",value:function(e){var t=E.default.findDOMNode(this.refs.b_add2).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,billingAddress2:t};this.setState({b_add2:t,editb_add2:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_b_CityChange",value:function(e){var t=E.default.findDOMNode(this.refs.b_city).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,billingcity:t};this.setState({b_city:t,editb_city:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_b_StateChange",value:function(e){var t=E.default.findDOMNode(this.refs.b_state).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,billingstate:t};this.setState({b_state:t,editb_state:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_b_ZipChange",value:function(e){var t=E.default.findDOMNode(this.refs.b_zip).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,billingzip:t};this.setState({b_zip:t,editb_zip:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_s_Add1Change",value:function(e){var t=E.default.findDOMNode(this.refs.s_add1).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,shippingAddress1:t};this.setState({s_add1:t,edits_add1:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_s_Add2Change",value:function(e){var t=E.default.findDOMNode(this.refs.s_add2).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,shippingAddress2:t};this.setState({s_add2:t,edits_add2:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_s_CityChange",value:function(e){var t=E.default.findDOMNode(this.refs.s_city).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,shippingcity:t};this.setState({s_city:t,edits_city:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_s_StateChange",value:function(e){var t=E.default.findDOMNode(this.refs.s_state).value.trim(),a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,shippingstate:t};this.setState({s_state:t,edits_state:!1}),this.props.actions.estimateInlineEdit(a)}},{key:"handle_s_ZipChange",value:function(e){var t=E.default.findDOMNode(this.refs.s_zip).value.trim(),a=parseInt(t);if(t.length<=5&&t.length>=4&&NaN!=a){var l={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,shippingzip:t};this.setState({s_zip:t,edits_zip:!1}),this.props.actions.estimateInlineEdit(l)}else toastr.error("Please enter a valid zip code")}},{key:"handleProposalChange",value:function(e){var t=e.target.value;if(""!==t&&"0"!=t){var a=this.state.proposalOptions.find(function(e){return e._id===t});this.setState({proposalValue:a,editProposal:!1});var l={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,proposalId:a};this.props.actions.estimateInlineEdit(l)}else this.setState({proposalValue:"",editProposal:!0})}},{key:"handleProjectChange",value:function(e){var t=e.target.value;if(""!==t&&"0"!=t){var a=this.state.projectOptions.find(function(e){return e._id===t});this.setState({projectValue:a,editProject:!1});var l={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,projectId:a};this.props.actions.estimateInlineEdit(l)}else this.setState({projectValue:"",editProject:!0})}},{key:"handleStageChange",value:function(e){var t=e.target.value;if(""!==t&&"0"!=t){var a=this.state.stageOptions.find(function(e){return e._id===t});this.setState({stageValue:a,editStage:!1});var l={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,stage:a};this.props.actions.estimateInlineEdit(l)}}},{key:"handleSelectsBlur",value:function(){this.props.actions.clearSelects()}},{key:"handleSalesBlur",value:function(){this.setState({editSalesRep:!1}),this.props.actions.clearSelects()}},{key:"handleCompanyBlur",value:function(){this.state.companyValue||toastr.error("This Field is required!")}},{key:"handleContactBlur",value:function(){this.setState({editContact:!1}),this.props.actions.clearSelects()}},{key:"handleSalesRepChange",value:function(e){if(void 0!=e){var t=e.value;this.setState({salesrepValue:e,editSalesRep:!1});var a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,salesRep:t};this.props.actions.estimateInlineEdit(a)}else this.setState({salesrepValue:e})}},{key:"onSalesRepInputChange",value:function(e){if(e.trim()){var t={firstname:e,companyId:localStorage.companyId};this.setState({query:t}),this.handleSalesSearchDebounced()}else this.props.actions.clearSelects(),this.setState({salesrepOptions:[],query:""})}},{key:"handleCompanyChange",value:function(e){if(e){this.setState({companyValue:e,editCompany:!1});var t=e.value,a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,customerId:t,individualId:""};this.props.actions.estimateInlineEdit(a)}else this.setState({companyValue:"",individualValue:"",addressDetails:""})}},{key:"onCompanyInputChange",value:function(e){if(e.trim()){var t={companyName:e,companyId:localStorage.companyId};this.setState({query:t}),this.handleCompanySearchDebounced()}else this.props.actions.clearSelects(),this.setState({individualOptions:[],query:"",companyOptions:[]})}},{key:"handleIndividualChange",value:function(e){if(e){this.setState({individualValue:e,editContact:!1});var t=e.value,a={estimateId:this.props.params.estimateId,companyId:localStorage.companyId,individualId:t};this.props.actions.estimateInlineEdit(a)}else this.setState({individualValue:""})}},{key:"onIndividualInputChange",value:function(e){var t=this.state.companyValue.value;if(t)if(e.trim()){var a={firstname:e,companyId:localStorage.companyId,contactId:t};this.setState({query:a}),this.handleContactSearchDebounced()}else this.props.actions.clearSelects(),this.setState({individualOptions:[],query:""})}},{key:"onPMInputChange",value:function(e){if(e.trim()){var t={userName:e,companyId:localStorage.companyId};this.setState({query:t}),this.handlePMDebounced()}else this.props.actions.clearSelects(),this.setState({PMOptions:[],query:""})}},{key:"handlePMValueChange",value:function(e){console.log("eeeeeeeeeeee",e),e?this.setState({projectMngValue:e}):this.setState({projectMngValue:""})}},{key:"createNewProjectSO",value:function(){if(""!=E.default.findDOMNode(this.refs.projectName).value&&""!=this.state.projectMngValue.value&&void 0!=this.state.projectMngValue.value){var e={textValue:E.default.findDOMNode(this.refs.projectName).value,employeeId:this.state.projectMngValue.value,IsProject:1==E.default.findDOMNode(this.refs.project).checked,companyId:localStorage.companyId,createdBy:localStorage.userName};console.log("createNewProjectSO>>>>>>>>>",e)}else toastr.error(le.REQUIRED_FIELDS)}},{key:"handleRadioChange",value:function(e){this.setState({projectRadioValue:e.target.value})}},{key:"onChange",value:function(e){this.setState({proposedServiceValue:e})}},{key:"render",value:function(){var e=this,t={display:["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","HISTORY_BUTTONS"],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Strikethrough",style:"STRIKETHROUGH"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_BUTTONS:[{label:"Unordered List",style:"unordered-list-item"},{label:"Ordered List",style:"ordered-list-item"}]},a=JSON.parse(JSON.stringify(this.state.itemPricedData)),l=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mTaxExtended:e},0),s=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lExtended:e},0),n=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCost:e},0),d=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCostExtended:e},0),r=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+(t.mTaxExtended+t.lExtended):e},0),o=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mExtended:e},0),m=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mTax:e},0),c=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lHoursExtended:e},0),u=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lExtended:e},0),h=(this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lHours:e},0),this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lRate:e},0)),E=o,b=m,y=this.state.itemPricedData.reduce(function(e,t){return 3===t.itemTypeId?e+t.rowTotal:e},0),v=o-d,g=(l-v)/v*100,_=this.state.estimateDetails;0!=_.length&&_.class;var C=0,S=0,x=0,k=this.state.itemPricedData.map(function(e,t){return 1==e.itemTypeId?C+=1:2==e.itemTypeId?C+=1:3==e.itemTypeId?C+=1:4==e.itemTypeId&&(C=C),1===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",{style:{textAlign:"center"}},C),f.default.createElement("td",null,e.itemMfg),f.default.createElement("td",null,f.default.createElement("a",{onClick:this.handleMaterialDetail.bind(this,e.itemId)},e.modelNo?e.modelNo:"-")),f.default.createElement("td",null,f.default.createElement("a",{onClick:this.handleMaterialDetail.bind(this,e.itemId)},e.partNo?e.partNo:"-")),f.default.createElement("td",null,e.itemName),f.default.createElement("td",null,e.quantity),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,2),style:{textAlign:"right",cursor:"pointer"}},"$",A.numberWithCommas(e.mTaxExtended.toFixed(2))),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,3),style:{textAlign:"right",cursor:"pointer"}},"$",A.numberWithCommas(e.lExtended.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas((e.mTaxExtended+e.lExtended).toFixed(2)))):2===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",{style:{textAlign:"center"}},C),ie,ne,de,f.default.createElement("td",null,re,e.itemName?e.itemName:"NA"),f.default.createElement("td",null,e.quantity?e.quantity:""),oe,me,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.rowTotal.toFixed(2)))):3===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",{style:{textAlign:"center"}},C),ce,ue,fe,f.default.createElement("td",null,pe,e.itemName?e.itemName:"NA"),he,Ee,be,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.rowTotal.toFixed(2)))):4===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{className:"unselectable-header",colSpan:"9"},e.headerName?e.headerName:"NA")):void 0}.bind(this)),T=this.state.itemPricedData.map(function(e,t){return 1==e.itemTypeId?S+=1:2==e.itemTypeId?S+=1:3==e.itemTypeId?S+=1:4==e.itemTypeId&&(S=S),1===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",null,S||""),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,1),style:{textAlign:"right",cursor:"pointer"}},e.itemMfg+" "+e.modelNo+" "+(e.partNo?" ("+e.partNo+")":null)),f.default.createElement("td",null,e.quantity),f.default.createElement("td",null,f.default.createElement("input",{type:"checkbox",defaultChecked:e.mTaxable,value:e.mTaxable,disabled:"disabled"})),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.mOurCost.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.mOurCost.toFixed(2))),f.default.createElement("td",null,e.mMarkup),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.mCost.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.mExtended.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.mTax.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.mTaxExtended.toFixed(2))),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,3),style:{textAlign:"right",cursor:"pointer"}},"$",A.numberWithCommas(e.lExtended.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas((e.mTaxExtended+e.lExtended).toFixed(2)))):2===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",null,S||""),f.default.createElement("td",null,Ne,e.itemName?e.itemName:"NA"),f.default.createElement("td",null,e.quantity?e.quantity.toString():"0"),ye,ve,ge,_e,Ce,Se,Ie,xe,f.default.createElement("td",{style:{textAlign:"right"}},e.lExtended?"$"+A.numberWithCommas(e.lExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+A.numberWithCommas(e.rowTotal.toFixed(2)):"$0")):3===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",null,S||""),f.default.createElement("td",null,ke,e.itemName?e.itemName:"NA"),Te,Ae,Oe,Le,we,De,Pe,Ve,Fe,Me,f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+A.numberWithCommas(e.rowTotal.toFixed(2)):"$0")):4===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{className:"unselectable-header",colSpan:"13"},e.headerName?e.headerName:"NA")):void 0}.bind(this)),O=this.state.itemPricedData.map(function(e,t){return 1==e.itemTypeId?x+=1:2==e.itemTypeId?x+=1:3==e.itemTypeId?x+=1:4==e.itemTypeId&&(x=x),1===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",null,x||""),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,1),style:{textAlign:"right",cursor:"pointer"}},e.itemMfg+" "+e.modelNo+" "+(e.partNo?" ("+e.partNo+")":null)),f.default.createElement("td",{style:{textAlign:"center"}},e.quantity),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,2),style:{textAlign:"right",cursor:"pointer"}},"$",A.numberWithCommas(e.mTaxExtended.toFixed(2))),f.default.createElement("td",{style:{textAlign:"center"}},e.laborTypeName?e.laborTypeName:"-"),f.default.createElement("td",{style:{textAlign:"center"}},e.lHours),f.default.createElement("td",{style:{textAlign:"center"}},e.lHoursExtended),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.lRate.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},e.unit?"$"+A.numberWithCommas(e.unit.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.lExtended.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas((e.lExtended+e.mTaxExtended).toFixed(2)))):2===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",null,x||""),f.default.createElement("td",null,je,e.itemName?e.itemName:"NA"),f.default.createElement("td",{style:{textAlign:"center"}},e.quantity?e.quantity.toString():"0"),$e,f.default.createElement("td",null,e.laborTypeName?e.laborTypeName:""),f.default.createElement("td",{style:{textAlign:"center"}},e.lHours?e.lHours:"0"),f.default.createElement("td",{style:{textAlign:"center"}},e.lHoursExtended?e.lHoursExtended:""),f.default.createElement("td",{style:{textAlign:"right"}},e.lRate?"$"+A.numberWithCommas(e.lRate.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.unit?"$"+A.numberWithCommas(e.unit.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.lExtended?"$"+A.numberWithCommas(e.lExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+A.numberWithCommas(e.rowTotal.toFixed(2)):"$0")):3===e.itemTypeId?f.default.createElement("tr",{key:t},f.default.createElement("td",null,x||""),f.default.createElement("td",null,Re,e.itemName?e.itemName:"NA"),ze,We,Ue,He,Be,qe,Je,Ye,f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+A.numberWithCommas(e.rowTotal.toFixed(2)):"$0")):4===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{className:"unselectable-header",colSpan:"11"},e.headerName?e.headerName:"NA")):void 0}.bind(this)),L=[];a.forEach(function(e){var t=L.filter(function(t){if(3!==t.itemTypeId&&4!==t.itemTypeId)return t.laborTypeName===e.laborTypeName})[0];t?(t.lHours+=e.lHours,t.lExtended+=e.lExtended):L.push(e)});var w=L.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lHours:e},0),P=L.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lExtended:e},0),F=L.map(function(e,t){if(3!==e.itemTypeId&&4!==e.itemTypeId)return f.default.createElement("tr",{key:t},f.default.createElement("th",{colSpan:"1",style:{textAlign:"right"}},"-",e.laborTypeName),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(e.lExtended.toFixed(2))))}.bind(this)),M=L.map(function(e,t){if(3!==e.itemTypeId&&4!==e.itemTypeId)return f.default.createElement("tr",{key:t},f.default.createElement("th",{colSpan:"1",style:{textAlign:"right"}},"-",e.laborTypeName),f.default.createElement("td",{style:{textAlign:"right"}},e.lHours))}.bind(this)),j=this.state.revisedItems.map(function(e,t){return f.default.createElement("option",{key:t,value:e._id},e.revisionName)}.bind(this)),$=this.state.memoList.map(function(e,t){return f.default.createElement("tr",{key:t},f.default.createElement("td",null,e.userName),f.default.createElement("td",null,(0,N.default)(e.createdAt).format("LLL")),f.default.createElement("td",null,e.message))}),R=this.state.proposalOptions.map(function(e,t){return f.default.createElement("option",{key:t,value:e._id},e.proposalNumber)}.bind(this)),z=this.state.projectOptions.map(function(e,t){return f.default.createElement("option",{key:t,value:e._id},e.title)}.bind(this)),U=this.props.estimateStages.map(function(e,t){return f.default.createElement("option",{key:t,value:e._id},e.stageName)}.bind(this));return f.default.createElement("div",null,this.state.showWarnHead?f.default.createElement("div",{className:"Notify"},f.default.createElement("p",null,"This estimate has been updated by ",this.state.modifierName,'.  To see the latest changes, "',f.default.createElement(p.Link,{onClick:function(){return window.location.reload()}},"click here"),'".',f.default.createElement("button",{style:{float:"right"},onClick:function(){return e.setState({showWarnHead:!1})},type:"button",className:"fa fa-close","aria-hidden":"true"}))):"",f.default.createElement("div",{id:"fixedButtons",className:"text-right",style:{position:"fixed",right:"50px",zIndex:"99"}},this.shouldBeVisible(W.estimatesEditorAuthorize)?f.default.createElement("button",{onClick:this.handleProjectSOModal,className:"btn btn-sm btn-circle newgreen"},Ze,"Create Project/SO"):null,"  ",f.default.createElement(p.Link,{to:"/estimate/"+this.props.params.estimateId+"/duplicate",className:"btn btn-sm btn-circle occuryellow"},"Duplicate Estimate"),"  ",f.default.createElement(p.Link,{to:"/export/"+this.props.params.estimateId+"/estimate",target:"_blank",className:"btn btn-sm btn-circle blue"},Ke,"Export"),"  ",this.shouldBeVisible(W.estimatesEditorAuthorize)?f.default.createElement("button",{onClick:this.handleRevisionModal,className:"btn btn-sm btn-circle purple"},Qe,"Add Revision"):null,"  ",Ge,"  ",this.shouldBeVisible(W.estimatesEditorAuthorize)?f.default.createElement("button",{className:"btn btn-sm btn-circle red",onClick:this.handleDelete},"Delete "):null,"  ",this.shouldBeVisible(W.estimatesEditorAuthorize)&&0==this.state.showEditConfirmModal?f.default.createElement(p.Link,{to:"/estimate/"+this.props.params.estimateId+"/edit",onClick:this.handleEditWithSocket,className:"btn btn-sm btn-circle green"},"Edit "):null,this.shouldBeVisible(W.estimatesEditorAuthorize)&&this.state.showEditConfirmModal?f.default.createElement(p.Link,{onClick:this.handleEditWithSocket,className:"btn btn-sm btn-circle green"},"Edit "):null),f.default.createElement("div",null,Xe,f.default.createElement("div",{className:"portlet light bordered",id:"estimateList"},f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"tab-content"},f.default.createElement("div",{className:"tab-pane active",id:"estimate-add"},et,f.default.createElement("form",{role:"form"},f.default.createElement("div",{className:"form-body"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editEstimateName?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",id:"name",name:"ename",ref:"ename",defaultValue:this.state.estimateName?this.state.estimateName:"",key:this.state.estimateName?this.state.estimateName:""}),f.default.createElement("span",{onClick:this.handleEstimateNameChange,className:"ico-inp-common fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editEstimateName:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editEstimateName:!0})},className:"form-control form-control-static"},_.estimateName?f.default.createElement("u",{className:"dottedUnderline"},_.estimateName):tt),at)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editCompany?f.default.createElement("div",{className:"select-outer"},f.default.createElement(ee.default,{className:"form-control form-control-static",value:this.state.companyValue,name:"company",id:"company",options:this.state.companyOptions,onChange:this.handleCompanyChange,onBlur:this.handleCompanyBlur,noResultsText:"Search for Company",onInputChange:this.onCompanyInputChange}),lt):f.default.createElement("div",null,f.default.createElement("div",{onClick:function(){return e.setState({editCompany:!0})},className:"form-control form-control-static"},this.state.companyValue&&""!=this.state.companyValue.label?f.default.createElement("u",{className:"dottedUnderline"},this.state.companyValue.label):st),it))),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editContact?f.default.createElement("div",{className:"select-outer"},f.default.createElement(ee.default,{className:"form-control form-control-static",value:this.state.individualValue,placeholder:"Individual",name:"individual",id:"individual",options:this.state.individualOptions,noResultsText:"Search for Contact",onChange:this.handleIndividualChange,onBlur:this.handleContactBlur,onInputChange:this.onIndividualInputChange}),nt,f.default.createElement("span",{onClick:function(){e.setState({editContact:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",null,f.default.createElement("div",{onClick:function(){return e.setState({editContact:!0})},className:"form-control form-control-static"},this.state.individualValue&&""!=this.state.individualValue.label?f.default.createElement("u",{className:"dottedUnderline"},this.state.individualValue.label):dt),rt))),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label min-ht-unset editable-form-outer"},this.state.editProposal?f.default.createElement("select",{key:"proposal",value:this.state.proposalValue?this.state.proposalValue._id:"-",onChange:this.handleProposalChange,onBlur:function(){e.setState({editProposal:!1})},className:"form-control form-control-static"},ot,R):f.default.createElement("div",{onClick:function(){e.setState({editProposal:!0})},className:"form-control form-control-static"},this.state.proposalValue?f.default.createElement("u",{className:"dottedUnderline"},this.state.proposalValue.proposalNumber):mt),ct)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label min-ht-unset editable-form-outer"},this.state.editProject?f.default.createElement("select",{key:this.state.projectValue,value:this.state.projectValue?this.state.projectValue._id:"",onChange:this.handleProjectChange,className:"form-control form-control-static",onBlur:function(){e.setState({editProject:!1})}},ut,z):f.default.createElement("div",{onClick:function(){e.setState({editProject:!0})},className:"form-control form-control-static"},this.state.projectValue?this.state.projectValue.title:"-"),ft)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"}," ",_.createdAt?(0,N.default)(_.createdAt).format("LLL"):"-"," "),pt)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"}," ",_.estimateNumber?_.estimateNumber:"-"," "),ht)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editSalesRep?f.default.createElement("div",{className:"select-outer"},f.default.createElement(ee.default,{className:"form-control form-control-static",value:this.state.salesrepValue,placeholder:"Sales Rep",name:"salesrep",id:"salesrep",options:this.state.salesrepOptions,onBlur:this.handleSalesBlur,noResultsText:"Search for Sales Rep",onChange:this.handleSalesRepChange,onInputChange:this.onSalesRepInputChange}),Et,f.default.createElement("span",{onClick:function(){e.setState({editSalesRep:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",null,f.default.createElement("div",{onClick:function(){e.setState({editSalesRep:!0})},className:"form-control form-control-static"},this.state.salesrepValue&&""!=this.state.salesrepValue.label?f.default.createElement("u",{className:"dottedUnderline"},this.state.salesrepValue.label):bt),Nt))),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label min-ht-unset editable-form-outer"},this.state.editStage?f.default.createElement("select",{className:"form-control form-control-static",id:"stageType",ref:"stageType",name:"stageType",key:this.state.stageValue,value:this.state.stageValue?this.state.stageValue._id:"",onChange:this.handleStageChange,onBlur:function(){e.setState({editStage:!1})}},U):f.default.createElement("div",{onClick:function(){e.setState({editStage:!0})},className:"form-control form-control-static"},_.stage?f.default.createElement("u",{className:"dottedUnderline"},_.stage.stageName):yt),vt)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editEstimateNote?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"note",name:"note",defaultValue:this.state.estimateNote?this.state.estimateNote:"",key:this.state.estimateNote?this.state.estimateNote:"-"}),f.default.createElement("span",{onClick:this.handleEstimateNoteChange,className:"ico-inp-common fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editEstimateNote:!1})},className:"ico-inp-common fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editEstimateNote:!0})},className:"form-control form-control-static"},this.state.estimateNote?f.default.createElement("u",{className:"dottedUnderline"},this.state.estimateNote):gt),_t)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("label",{style:{marginTop:"0",fontSize:"13px",transition:"all .2s ease",color:"#999"},htmlFor:"opportunity"},"Proposed Services (visible on quote)"),this.state.editProposedService?f.default.createElement("div",null,f.default.createElement(G.default,{toolbarConfig:t,value:this.state.proposedServiceValue,onChange:this.onChange,className:"Summernote",id:"summernote"}),f.default.createElement("span",{onClick:this.handleProposedServiceChange,className:"ico-inp-common fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editProposedService:!1})},className:"ico-inp-common fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editProposedService:!0})},className:"proposedService dottedUnderline",dangerouslySetInnerHTML:{__html:_.proposedServices}})))))),f.default.createElement("div",{className:"portlet light portlet-fit portlet-datatable bordered"},0!=this.state.itemPricedData.length?f.default.createElement("div",{className:"portlet light bordered"},f.default.createElement("div",{className:"portlet-title tabbable-line"},Ct,0!=this.state.revisedItems.length?f.default.createElement("button",{onClick:this.handleRevisionExport,className:"btn green-haze btn-circle btn-sm pull-right",style:{marginTop:"13px"}},"Export"):null,f.default.createElement("ul",{className:"nav nav-tabs"},f.default.createElement("li",{className:this.state.itemTab},f.default.createElement("a",{href:"#portlet_tab1","data-toggle":"tab",onClick:this.handleLineTab.bind(this,1)}," Items ")),f.default.createElement("li",{className:this.state.materialTab},f.default.createElement("a",{href:"#portlet_tab2","data-toggle":"tab",onClick:this.handleLineTab.bind(this,2)}," Material ")),f.default.createElement("li",{className:this.state.laborTab},f.default.createElement("a",{href:"#portlet_tab3","data-toggle":"tab",onClick:this.handleLineTab.bind(this,3)}," Labor ")))),f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"tab-content"},f.default.createElement("div",{className:"tab-pane "+this.state.itemTab,id:"portlet_tab1"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"table-container table-responsive"},f.default.createElement("table",{className:"table table-striped table-bordered lineitem"},f.default.createElement("thead",null,f.default.createElement("tr",null,St,It,xt,kt,Tt,At,f.default.createElement("th",{className:"material",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,2)},"Material"),f.default.createElement("th",{className:"labor",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,3)},"Labor"),Ot)),f.default.createElement("tbody",null,k),0!=this.state.itemPricedData.length?f.default.createElement("tfoot",null,f.default.createElement("tr",null,Lt,wt,Dt,Pt,Vt,Ft,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(o.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(s.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(r.toFixed(2))))):null))))),f.default.createElement("div",{className:"tab-pane "+this.state.materialTab,id:"portlet_tab2"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"table-container table-responsive"},f.default.createElement("table",{className:"table table-striped table-bordered lineitem"},f.default.createElement("thead",null,f.default.createElement("tr",null,Mt,f.default.createElement("th",{className:"items",rowSpan:"2",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,1)},"Item"),jt,$t,f.default.createElement("th",{className:"labor",rowSpan:"2",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,3)},"Labor"),Rt),zt),f.default.createElement("tbody",null,T),0!=this.state.itemPricedData.length?f.default.createElement("tfoot",null,f.default.createElement("tr",null,Wt,Ut,Ht,Bt,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(n.toFixed(2))),qt,Jt,Yt,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(o.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(m.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(l.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(s.toFixed(2))),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(r.toFixed(2))))):null))))),f.default.createElement("div",{className:"tab-pane "+this.state.laborTab,id:"portlet_tab3"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"table-container table-responsive"},f.default.createElement("table",{className:"table table-striped table-bordered lineitem"},f.default.createElement("thead",null,f.default.createElement("tr",null,Zt,f.default.createElement("th",{className:"items",rowSpan:"2",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,1)},"Item"),Kt,f.default.createElement("th",{className:"material",rowSpan:"2",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,2)},"Material"),Qt,Gt),Xt),f.default.createElement("tbody",null,O),0!=this.state.itemPricedData.length?f.default.createElement("tfoot",null,f.default.createElement("tr",null,ea,ta,aa,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(l.toFixed(2))),la,sa,f.default.createElement("td",{style:{textAlign:"center"}},c),f.default.createElement("td",{style:{textAlign:"right"}},f.default.createElement("span",null,"$",A.numberWithCommas(h.toFixed(2)))),ia,f.default.createElement("td",{style:{textAlign:"right"}},f.default.createElement("span",null,"$",A.numberWithCommas(u.toFixed(2)))),f.default.createElement("td",{style:{textAlign:"right"}},f.default.createElement("span",null,"$",A.numberWithCommas(r.toFixed(2)))))):null))))))),this.state.revisedItems.length?f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static white_space"},this.state.revisedItems[0].revisionNotes?this.state.revisedItems[0].revisionNotes:"-"),na))):null,f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-4"},f.default.createElement("table",{className:"table table-striped table-bordered"},da,f.default.createElement("tbody",null,f.default.createElement("tr",null,ra,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(E.toFixed(2)))),f.default.createElement("tr",null,oa,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(n.toFixed(2)))),f.default.createElement("tr",null,ma,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(b.toFixed(2)))),f.default.createElement("tr",null,ca,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(y.toFixed(2)))),f.default.createElement("tr",null,ua,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(l.toFixed(2)))),f.default.createElement("tr",null,fa,f.default.createElement("td",{style:{textAlign:"right"}},isNaN(g)?0:g.toFixed(2),"%")),f.default.createElement("tr",null,pa,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(v.toFixed(2))))))),f.default.createElement("div",{className:"col-md-4"},f.default.createElement("table",{className:"table table-striped table-bordered"},ha,f.default.createElement("tbody",null,f.default.createElement("tr",null,f.default.createElement("th",{colSpan:"1"},"Total ",f.default.createElement("span",{onClick:this.handleExpand.bind(this,"TOTAL"),style:{color:"blue",cursor:"pointer"}},this.state.expandTotal?" (less...)":"(more...)")),f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(P.toFixed(2)))),this.state.expandTotal?F:null,f.default.createElement("tr",null,f.default.createElement("th",{colSpan:"1"},"Hours ",f.default.createElement("span",{onClick:this.handleExpand.bind(this,"HOURS"),style:{color:"blue",cursor:"pointer"}},this.state.expandHours?" (less...)":"(more...)")),f.default.createElement("td",{style:{textAlign:"right"}},w)),this.state.expandHours?M:null))),f.default.createElement("div",{className:"col-md-4"},f.default.createElement("table",{className:"table table-striped table-bordered"},Ea,f.default.createElement("tbody",null,f.default.createElement("tr",null,ba,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(o.toFixed(2)))),f.default.createElement("tr",null,Na,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(P.toFixed(2)))),f.default.createElement("tr",null,ya,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(b.toFixed(2)))),f.default.createElement("tr",null,va,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas(y.toFixed(2)))),f.default.createElement("tr",null,ga,f.default.createElement("td",{style:{textAlign:"right"}},"$",A.numberWithCommas((o+P+b+y).toFixed(2))))))))):null)),f.default.createElement("div",{className:"tab-pane",id:"estimate-moreinfo"},_a,f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"tab-content"},f.default.createElement("form",{action:"#",className:"horizontal-form"},f.default.createElement("div",{className:"form-body"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"}," ",_.opportunityId?_.opportunityId.title:"-"," "),Ca)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"},_.createdBy?_.createdBy:"-"),Sa)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"},_.createdAt?(0,N.default)(_.createdAt).format("LLL"):"-"),Ia)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"},_.estimateNumber?_.estimateNumber:"-"),xa)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"},_.modifiedBy?_.modifiedBy:"-"),ka)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement("div",{className:"form-control form-control-static"},_.modifiedBy?(0,N.default)(_.updatedAt).format("LLL"):"-"),Ta))))),Aa,f.default.createElement("form",{role:"form"},f.default.createElement("div",{className:"form-body"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editb_add1?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"b_add1",name:"b_add1",defaultValue:this.state.b_add1?this.state.b_add1:"",key:this.state.b_add1?this.state.b_add1:"-"}),f.default.createElement("span",{onClick:this.handle_b_Add1Change,className:"ico-inp-common fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editb_add1:!1})},className:"ico-inp-common fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editb_add1:!0})},className:"form-control form-control-static"},this.state.b_add1?f.default.createElement("u",{className:"dottedUnderline"},this.state.b_add1):Oa),La)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editb_add2?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"b_add2",name:"b_add2",defaultValue:this.state.b_add2?this.state.b_add2:"",key:this.state.b_add2?this.state.b_add2:"-"}),f.default.createElement("span",{onClick:this.handle_b_Add2Change,className:"ico-inp-common fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editb_add2:!1})},className:"ico-inp-common fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editb_add2:!0})},className:"form-control form-control-static"},this.state.b_add2?f.default.createElement("u",{className:"dottedUnderline"},this.state.b_add2):wa),Da)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editb_city?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"b_city",name:"b_city",defaultValue:this.state.b_city?this.state.b_city:"",key:this.state.b_city?this.state.b_city:"-"}),f.default.createElement("span",{onClick:this.handle_b_CityChange,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editb_city:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editb_city:!0})},className:"form-control form-control-static"},this.state.b_city?f.default.createElement("u",{className:"dottedUnderline"},this.state.b_city):Pa),Va)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editb_state?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"b_state",name:"b_state",defaultValue:this.state.b_state?this.state.b_state:"",key:this.state.b_state?this.state.b_state:"-"}),f.default.createElement("span",{onClick:this.handle_b_StateChange,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editb_state:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editb_state:!0})},className:"form-control form-control-static"},this.state.b_state?f.default.createElement("u",{className:"dottedUnderline"},this.state.b_state," "):Fa),Ma)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.editb_zip?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"b_zip",name:"b_zip",defaultValue:this.state.b_zip?this.state.b_zip:"",key:this.state.b_zip?this.state.b_zip:"-"}),f.default.createElement("span",{onClick:this.handle_b_ZipChange,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({editb_zip:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({editb_zip:!0})},className:"form-control form-control-static"},this.state.b_zip?f.default.createElement("u",{className:"dottedUnderline"},this.state.b_zip):ja),$a))))),Ra,f.default.createElement("form",{role:"form"},f.default.createElement("div",{className:"form-body"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.edits_add1?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"s_add1",name:"s_add1",defaultValue:this.state.s_add1?this.state.s_add1:"",key:this.state.s_add1?this.state.s_add1:"-"}),f.default.createElement("span",{onClick:this.handle_s_Add1Change,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({edits_add1:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({edits_add1:!0})},className:"form-control form-control-static"},this.state.s_add1?f.default.createElement("u",{className:"dottedUnderline"},this.state.s_add1):za),Wa)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.edits_add2?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control scrollable-textarea",rows:1,ref:"s_add2",name:"s_add2",defaultValue:this.state.s_add2?this.state.s_add2:"",key:this.state.s_add2?this.state.s_add2:"-"}),f.default.createElement("span",{onClick:this.handle_s_Add2Change,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({edits_add2:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({edits_add2:!0})},className:"form-control form-control-static"},this.state.s_add2?f.default.createElement("u",{className:"dottedUnderline"},this.state.s_add2):Ua),Ha)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.edits_city?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"s_city",name:"s_city",defaultValue:this.state.s_city?this.state.s_city:"",key:this.state.s_city?this.state.s_city:"-"}),f.default.createElement("span",{onClick:this.handle_s_CityChange,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({edits_city:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({edits_city:!0})},className:"form-control form-control-static"},this.state.s_city?f.default.createElement("u",{className:"dottedUnderline"},this.state.s_city):Ba),qa)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.edits_state?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"s_state",name:"s_state",defaultValue:this.state.s_state?this.state.s_state:"",key:this.state.s_state?this.state.s_state:"-"}),f.default.createElement("span",{onClick:this.handle_s_StateChange,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({edits_state:!1})},className:"ico-inp-common  fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({edits_state:!0})},className:"form-control form-control-static"},this.state.s_state?f.default.createElement("u",{className:"dottedUnderline"},this.state.s_state):Ja),Ya)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 editable-form-outer"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label editable-form-outer"},this.state.edits_zip?f.default.createElement("div",{className:"input-ico-outer form-control form-control-static"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"s_zip",name:"s_zip",defaultValue:this.state.s_zip?this.state.s_zip:"",key:this.state.s_zip?this.state.s_zip:"-"}),f.default.createElement("span",{onClick:this.handle_s_ZipChange,className:"ico-inp-common  fa fa-check"}),f.default.createElement("span",{onClick:function(){e.setState({edits_zip:!1})},className:"ico-inp-common fa fa-close"})):f.default.createElement("div",{onClick:function(){e.setState({edits_zip:!0})},className:"form-control form-control-static"},this.state.s_zip?f.default.createElement("u",{className:"dottedUnderline"},this.state.s_zip):Za),Ka)))))))),f.default.createElement("div",{className:"tab-pane",id:"estimate-memos"},f.default.createElement("div",{className:"portlet light portlet-fit portlet-datatable bordered"},this.shouldBeVisible(W.estimatesEditorAuthorize)?Qa:null,f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"table-container table-responsive"},f.default.createElement("table",{className:"table table-striped table-bordered table-hover",id:"estimate_memos"},f.default.createElement("thead",null,f.default.createElement("tr",{style:{cursor:"normal"}},Ga,Xa,el)),f.default.createElement("tbody",{style:{cursor:"normal"}},$)))))))))),f.default.createElement("div",{id:"est_memos",className:"modal fade",tabIndex:"-1","aria-hidden":"true"},f.default.createElement("div",{className:"modal-dialog modal-sm"},f.default.createElement("div",{className:"modal-content"},tl,f.default.createElement("div",{className:"modal-body"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"input-ico-outer form-group form-md-line-input form-md-floating-label editable-form-outer"},f.default.createElement(I.default,{style:{resize:"none"},className:"form-control",rows:1,ref:"estMemo",name:"estMemo",id:"estMemo",defaultValue:"",key:""}))))),f.default.createElement("div",{className:"modal-footer"},al,f.default.createElement("button",{type:"button",className:"btn green",onClick:this.handleMemoAdd},"Save"))))),f.default.createElement(D.default,{deleteModalId:"estimate_delete",deleteUserHandler:this.deleteEstimateHandler}),f.default.createElement(V.default,{revisionModalId:"add_revision",isCheckedDuplicate:this.state.isCheckedDuplicate,isCheckedEmpty:this.state.isCheckedEmpty,addRevision:this.addRevisionhandler,revisionNo:this.state.revisionNo,radioHandler:this.handleRadioUpdate,revisedItems:j,ref:"revised"}),f.default.createElement(Y.default,{id:"confirmEdit",title:this.state.editTitle,message:"Are you sure you want to continue ?",confirmationHandler:this.EditConfirmationHandler}),f.default.createElement("div",{id:"select-addType",className:"modal fade bs-modal-md",tabIndex:"-1","aria-hidden":"true"},f.default.createElement("form",{role:"form",id:"addOtherProjectType"},f.default.createElement("div",{className:"modal-dialog modal-md"},f.default.createElement("div",{className:"modal-content"},ll,f.default.createElement("div",{className:"modal-body"},f.default.createElement("div",{className:"col-md-6"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("input",{type:"text",className:"form-control",id:"projectName",name:"projectName",ref:"projectName",defaultValue:""}),sl)),f.default.createElement("div",{className:"col-md-6"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},il,f.default.createElement(ee.default,{value:this.state.projectMngValue,placeholder:"Select Contact",name:"individual_role",id:"individual_role",options:this.state.PMOptions,onChange:this.handlePMValueChange,onInputChange:this.onPMInputChange}))),f.default.createElement("div",i({className:"col-md-6"},"className","work_log_custom_radio"),f.default.createElement("input",{name:"status",ref:"project",type:"radio",value:"1",defaultChecked:!0,onChange:this.handleRadioChange}),nl,f.default.createElement("input",{name:"status",ref:"serviceorder",type:"radio",value:"0",className:"check_out_radio",onChange:this.handleRadioChange}),dl)),f.default.createElement("div",{className:"modal-footer"},rl,f.default.createElement("button",{type:"button",className:"btn green",id:"send-invite-button",onClick:this.createNewProjectSO},"Create")))))))}}]),t}(M.default);t.default=(0,y.connect)(o,m)(ol)},1512:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),o=l(r),m=(a(3),o.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"})),c=o.default.createElement("button",{type:"button","data-dismiss":"modal",className:"btn dark btn-outline"},"No"),u=function(e){function t(e,a){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a))}return n(t,e),d(t,[{key:"render",value:function(){return o.default.createElement("div",{id:this.props.id,className:"modal fade",tabIndex:"-1","aria-hidden":"true"},o.default.createElement("div",{className:"modal-dialog"},o.default.createElement("div",{className:"modal-content"},o.default.createElement("div",{className:"modal-header"},m,o.default.createElement("h4",{className:"modal-title"},this.props.title)),o.default.createElement("div",{className:"modal-body"},this.props.message),o.default.createElement("div",{className:"modal-footer"},c,o.default.createElement("button",{type:"button",className:"btn green",onClick:this.props.confirmationHandler},"Yes")))))}}]),t}(o.default.Component);t.default=u}});