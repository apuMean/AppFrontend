webpackJsonp([59],{1372:function(e,t,l){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){return{createcontact:e.createcontact.contactData}}function s(e){return{actions:(0,N.bindActionCreators)(_,e)}}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),i=l(0),f=n(i),u=l(3),p=l(7),E=l(12),b=(n(E),l(6)),N=l(5),h=l(1),v=n(h),g=l(4),y=(a(g),l(197)),_=a(y),k=l(41),I=n(k);l(10);var w=l(195),x=a(w),D=l(26),L=a(D),F=l(8),A=n(F),C=f.default.createElement(u.Link,{to:"/contact"},"Contacts"),O=f.default.createElement("i",{className:"fa fa-star"}),S=f.default.createElement("li",{className:"active"},f.default.createElement("a",{href:"#contact-add","data-toggle":"tab"},"Contact")),B=f.default.createElement("li",null,f.default.createElement("a",{href:"#contact-moreinfo","data-toggle":"tab"},"More Info")),P=f.default.createElement(u.Link,{to:"/contact",className:"btn btn-sm btn-circle red"},"Cancel"),j=f.default.createElement("a",{className:"btn btn-sm btn-circle blue",href:"javascript:;","data-toggle":"dropdown"},f.default.createElement("span",{className:"hidden-xs"},"More Options"),f.default.createElement("i",{className:"fa fa-angle-down"})),T=f.default.createElement("i",{className:"icon-call-end"}),M=f.default.createElement("i",{className:"icon-trophy"}),R=f.default.createElement("i",{className:"icon-calculator"}),z=f.default.createElement("i",{className:"icon-envelope-letter"}),H=f.default.createElement("i",{className:"icon-folder"}),J=f.default.createElement("i",{className:"icon-wallet"}),W=f.default.createElement("i",{className:"icon-credit-card"}),U=f.default.createElement("i",{className:"icon-clock"}),q=f.default.createElement("i",{className:"icon-rocket"}),K=f.default.createElement("i",{className:"icon-docs"}),Y=f.default.createElement("label",{htmlFor:"company"},"Company"),Z=f.default.createElement("label",{htmlFor:"title"},"Title"),G=f.default.createElement("label",{htmlFor:"form_control_1"},"Status"),Q=f.default.createElement("label",{htmlFor:"firstname"},"First Name"),V=f.default.createElement("label",{htmlFor:"lastname"},"Last Name"),X=f.default.createElement("label",{htmlFor:"form_control_1"},"Nickname"),ee=f.default.createElement("label",{htmlFor:"webAddress"},"Web Address"),te=f.default.createElement("label",{htmlFor:"webAddress"},"Sales Rep"),le=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("i",{className:"fa fa-phone"}),"Phone")),ae=f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",null),f.default.createElement("th",null,"Type"),f.default.createElement("th",null,"Number"))),ne=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("i",{className:"fa fa-envelope"}),"Email")),ce=f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",null),f.default.createElement("th",null,"Type"),f.default.createElement("th",null,"Address"))),oe=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("i",{className:"fa fa-building"}),"Address")),re=f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",null),f.default.createElement("th",null,"Type"),f.default.createElement("th",null,"Addr. 1"),f.default.createElement("th",null,"Addr. 2"),f.default.createElement("th",null,"City"),f.default.createElement("th",null,"State"),f.default.createElement("th",null,"Zip"),f.default.createElement("th",null,"Country"))),me=f.default.createElement("div",{className:"portlet-title tabbable-line"},f.default.createElement("div",{className:"caption"},f.default.createElement("i",{className:"icon-users font-dark"}),f.default.createElement("span",{className:"caption-subject font-dark bold uppercase"},"Other Details"))),se=f.default.createElement("label",{htmlFor:"form_control_1"},"Department"),de=f.default.createElement("label",{htmlFor:"form_control_1"},"Created By"),ie=f.default.createElement("label",{htmlFor:"form_control_1"},"On"),fe=f.default.createElement("label",{htmlFor:"form_control_1"},"Industry"),ue=f.default.createElement("label",{htmlFor:"form_control_1"},"Modified By"),pe=f.default.createElement("label",{htmlFor:"form_control_1"},"On"),Ee=f.default.createElement("label",{htmlFor:"form_control_1"},"Reffered By"),be=f.default.createElement("label",{htmlFor:"form_control_1"},"Branch"),Ne=f.default.createElement("label",{htmlFor:"form_control_1"},"Birthday"),he=f.default.createElement("label",{htmlFor:"form_control_1"},"Age"),ve=f.default.createElement("label",{htmlFor:"form_control_1"},"Note"),ge=f.default.createElement("label",{htmlFor:"form_control_1"},"Spouse"),ye=f.default.createElement("label",{htmlFor:"form_control_1"},"Keywords"),_e=f.default.createElement("label",{htmlFor:"form_control_1"},"Children"),ke=function(e){function t(e,l){c(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l));return(0,A.default)(a),a.state={contactId:"",phoneDetails:[],mailDetails:[],addressdetails:[],contactData:"",keyword:[],keywords:[],breadcrumb:!0},a}return r(t,e),d(t,[{key:"componentWillMount",value:function(){var e={contactId:this.props.params.contactId};this.props.actions.getContact(e)}},{key:"componentDidMount",value:function(){L.showLoader("contacts_list")}},{key:"componentWillReceiveProps",value:function(e){var t=[],l=[],a=[];if(e.createcontact){var n=JSON.parse(JSON.stringify(e.createcontact));if(0!=n.phoneInfo.length){n.phoneInfo.map(function(e,l){t.push(e)}.bind(this))}if(0!=n.internetInfo.length){n.internetInfo.map(function(e,t){l.push(e)}.bind(this))}if(0!=n.addressInfo.length){n.addressInfo.map(function(e,t){a.push(e)}.bind(this))}if(this.state.breadcrumb&&n.firstname){var c={parent:C,childone:n.firstname+" "+n.lastname,childtwo:""};this.props.breadCrumb(c),this.state.breadcrumb=!1}}this.setState({contactData:n,phoneDetails:t,mailDetails:l,addressdetails:a});var o=(0,p.findDOMNode)(this.refs.contacts_list);$(o).unblock()}},{key:"handleDetail",value:function(e){e&&window.open("/company/"+e,"_blank")}},{key:"handleDelete",value:function(){this.setState({contactId:this.props.params.contactId}),$("#contact_delete").modal("show")}},{key:"deleteContactHandler",value:function(){this.state.contactId&&($("#contact_delete").modal("hide"),L.showLoader("contacts_list"),this.props.actions.deleteContact(this.state.contactId,2))}},{key:"render",value:function(){var e=this.state.contactData;if(e){var t=(0!=e.typeInfo.length&&e.typeInfo[0].typeName,0!=e.statusInfo.length?e.statusInfo[0].statusName:""),a=(0!=e.sourcesInfo.length&&e.sourcesInfo[0].sourceName,0!=e.referredByInfo.length?e.referredByInfo[0].firstname+" "+e.referredByInfo[0].lastname:"-"),n=O,c="",o=this.state.phoneDetails.map(function(e,t){var l=x.removeSpecialCharSpace(e.phone);if(l.length<=11&&l.includes("x"))c=e.phone.substring(0,e.phone.indexOf("x"));else{c=e.phone;var a=c,o=a.replace(/_/g,"");c=o}return f.default.createElement("tr",{key:t},f.default.createElement("td",null,e.isPrimary?n:""),f.default.createElement("td",null,e.phonetype),f.default.createElement("td",null,c||""))}.bind(this)),r=this.state.mailDetails.map(function(e,t){return f.default.createElement("tr",{key:t},f.default.createElement("td",null,e.isPrimary?n:""),f.default.createElement("td",null,e.internetType),f.default.createElement("td",null,e.internetvalue))}.bind(this)),m=this.state.addressdetails.map(function(e,t){var l=e.zip+" "+e.city+" "+e.state+" "+e.mapAddress1+" "+e.mapAddress2,a="";return 1==e.countryId?a="US":2==e.countryId&&(a="India"),f.default.createElement("tr",{key:t},f.default.createElement("td",null,e.isPrimary?n:""),f.default.createElement("td",null,e.addressType),f.default.createElement("td",null,f.default.createElement("a",{className:"green",href:"http://maps.google.com/?q="+l,target:"_blank"},e.mapAddress1)),f.default.createElement("td",null,e.mapAddress2),f.default.createElement("td",null,e.city),f.default.createElement("td",null,e.state),f.default.createElement("td",null,e.zip),f.default.createElement("td",null,a))}.bind(this)),s=e.contactkeywordInfo?e.contactkeywordInfo.map(function(e,t){return f.default.createElement("p",{key:t},f.default.createElement("span",null,e.keywordName)," ")}.bind(this)):null;1==e.userType?"Company":2==e.userType&&"Individual"}return f.default.createElement("div",null,f.default.createElement("div",{className:"portlet-title tabbable-line"},f.default.createElement("ul",{className:"nav nav-tabs"},S,B,f.default.createElement("div",{className:"text-right"},P," ",f.default.createElement("button",{className:"btn btn-sm btn-circle red",onClick:this.handleDelete},"Delete ")," ",f.default.createElement(u.Link,{to:"/contact/"+this.props.params.contactId+"/edit",className:"btn btn-sm btn-circle green"},"Edit")," ",f.default.createElement("div",{className:"btn-group"},j,f.default.createElement("ul",{className:"dropdown-menu pull-right"},f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactlinks/"+this.props.params.contactId,className:"tool-action"},T,"Linked Contacts")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactopportunities/"+this.props.params.contactId,className:"tool-action"},M,"Opportunities")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactestimates/"+this.props.params.contactId,className:"tool-action"},R,"Estimates")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactproposals/"+this.props.params.contactId,className:"tool-action"},z,"Proposals")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactprojects/"+this.props.params.contactId,className:"tool-action"},H,"Projects")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactpos/"+this.props.params.contactId,className:"tool-action"},J,"POs")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactinvoices/"+this.props.params.contactId,className:"tool-action"},W,"Invoices")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contacttimecards/"+this.props.params.contactId,className:"tool-action"},U,"Timecards")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactactivities/"+this.props.params.contactId,className:"tool-action"},q,"Activities")),f.default.createElement("li",null,f.default.createElement(u.Link,{to:"/contactdocuments/"+this.props.params.contactId,className:"tool-action"},K,"Documents"))))))),f.default.createElement("div",{className:"portlet light bordered",id:"contacts_list",ref:"contacts_list"},f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"tab-content"},f.default.createElement("div",{className:"tab-pane active",id:"contact-add"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-lg-2 col-md-2 col-sm-3 col-xs-6"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"fileinput fileinput-exists","data-provides":"fileinput"},f.default.createElement("div",{className:"fileinput-preview thumbnail","data-trigger":"fileinput",style:{height:"142px"}},f.default.createElement("img",{src:e.profileImage?e.profileImage:l(103),className:"img-responsive",alt:"Logo"}))))),f.default.createElement("div",{className:"col-lg-10 col-md-10 col-sm-9 col-xs-10"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},f.default.createElement("a",{onClick:this.handleDetail.bind(this,e.companyContactId)},e?e.companyName:"-")),Y)),f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.title?e.title:"-"),Z)),f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},t||"-"),G)),f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e?e.firstname:"-"),Q)),f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e?e.lastname:"-"),V)),f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.nickName?e.nickName:"-"),X)),f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},f.default.createElement(u.Link,{to:e.webAddress?"//"+e.webAddress:"#",target:"_blank",onClick:function(t){t.preventDefault(),window.open(e.webAddress?"//"+e.webAddress:"#")}},e.webAddress?e.webAddress:"-")),ee)),f.default.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.isSalesRep?"Yes":"No"),te))))),f.default.createElement("div",{className:"row"},0!==this.state.phoneDetails.length?f.default.createElement("div",{className:"col-lg-6 col-md-12"},f.default.createElement("div",{className:"portlet blue-hoki box"},le,f.default.createElement("div",{className:"portlet-body",style:{padding:0}},f.default.createElement("div",{className:"table-responsive"},f.default.createElement("table",{className:"table table-hover table-bordered table-striped",style:{marginBottom:0}},ae,f.default.createElement("tbody",null,o)))))):null,0!==this.state.mailDetails.length?f.default.createElement("div",{className:"col-lg-6 col-md-12"},f.default.createElement("div",{className:"portlet green-meadow box"},ne,f.default.createElement("div",{className:"portlet-body",style:{padding:0}},f.default.createElement("div",{className:"table-responsive"},f.default.createElement("table",{className:"table table-hover table-bordered table-striped",style:{marginBottom:0}},ce,f.default.createElement("tbody",null,r)))))):null,0!==this.state.addressdetails.length?f.default.createElement("div",{className:"col-lg-12 col-md-12"},f.default.createElement("div",{className:"portlet red-sunglo box"},oe,f.default.createElement("div",{className:"portlet-body",style:{padding:0}},f.default.createElement("div",{className:"table-responsive"},f.default.createElement("table",{className:"table table-hover table-bordered table-striped",style:{marginBottom:0}},re,f.default.createElement("tbody",null,m)))))):null)),f.default.createElement("div",{className:"tab-pane",id:"contact-moreinfo"},me,f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"tab-content"},f.default.createElement("div",{className:"tab-pane active",id:"user-details"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e&&0!=e.departmentInfo.length?e.departmentInfo[0].departmentName:"-"),se)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.createdBy?e.createdBy:"-"),de)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.createdAt?(0,v.default)(e.createdAt).format("LLL"):"-"),ie)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e&&0!=e.industryInfo.length?e.industryInfo[0].industryName:"-"),fe)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.modifiedBy?e.modifiedBy:"-"),ue)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.modifiedBy?(0,v.default)(e.updatedAt).format("LLL"):"-"),pe)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},a),Ee)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.branch?e.branch:"-"),be)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.birthday?e.birthday:"-"),Ne)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.age?e.age:"-"),he)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.notes?e.notes:"-"),ve)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.spouse?e.spouse:"-"),ge)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},s||"-"),ye)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("div",{className:"form-control form-control-static"},e.children?e.children:"-"),_e)),f.default.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e&&e.salesRepSign&&e.isSalesRep?f.default.createElement("div",{style:{width:"100%"}},f.default.createElement("label",{style:{top:"0",fontSize:"13px",color:"#999"},htmlFor:"signature"},"Signature"),f.default.createElement("div",{style:{width:"300px",padding:"10px",border:"1px solid #D3D3D3",margin:"0"}},f.default.createElement("img",{style:{width:"350px",height:"50px"},src:e.salesRepSign,className:"img-responsive center-block",alt:"Signature"}))):null))))))))),f.default.createElement(I.default,{deleteModalId:"contact_delete",deleteUserHandler:this.deleteContactHandler}))}}]),t}(f.default.Component);t.default=(0,b.connect)(m,s)(ke)}});