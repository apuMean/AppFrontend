webpackJsonp([26],{1408:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){return{requestByList:e.poLists.requestList,itemList:e.poLists.itemList,ManufacturerList:e.poLists.manufacturerList,newCreatedItem:e.poLists.newCreatedItem,companyList:e.opportunity.companyList,individualList:e.opportunity.individualList,projectList:e.estimate.projectList,itemDetail:e.itemCreation.itemDetailData,createcontact:e.createcontact.contactData,poNumber:e.poLists.poNumber}}function o(e){return{actions:(0,C.bindActionCreators)(q,e),proActions:(0,C.bindActionCreators)(H,e),poAction:(0,C.bindActionCreators)(W,e),itemaction:(0,C.bindActionCreators)(V,e),contactactions:(0,C.bindActionCreators)(U,e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),f=i(u),p=a(3),h=a(7),b=i(h),E=a(23),N=i(E),v=a(12),y=i(v),g=a(9),I=i(g),T=a(6),C=a(5),D=a(1),x=i(D),S=a(198),P=i(S),O=a(76),A=i(O),k=a(586),_=a(4),w=l(_),L=a(4),M=(l(L),a(196)),V=l(M),R=a(69),q=l(R),F=a(102),H=l(F),j=a(295),W=l(j),B=a(197),U=l(B),Y=a(22),Z=l(Y),z=l(Y),Q=a(41),G=i(Q),J=a(588),K=i(J),X=a(589),ee=i(X),te=a(591),ae=i(te),le=a(1513),ie=i(le),ne=a(592),re=i(ne),de=a(199),se=i(de),me=a(590),oe=i(me),ce=a(582),ue=i(ce),fe=a(26),pe=l(fe),he=a(195),be=l(he);a(10);var Ee=a(8),Ne=i(Ee),ve=f.default.createElement("i",{className:"fa fa-trash-o"}),ye=f.default.createElement("td",{className:"unselectable"},""),ge=f.default.createElement("td",{className:"unselectable"},""),Ie=f.default.createElement("td",{className:"unselectable"},""),Te=f.default.createElement("td",{className:"unselectable"},""),Ce=f.default.createElement("td",{className:"unselectable"},""),De=f.default.createElement("i",{className:"fa fa-trash-o"}),xe=f.default.createElement("td",{className:"unselectable"},""),Se=f.default.createElement("td",{className:"unselectable"},""),Pe=f.default.createElement("td",{className:"unselectable"},""),Oe=f.default.createElement("td",{className:"unselectable"},""),Ae=f.default.createElement("td",{className:"unselectable"},""),ke=f.default.createElement("td",{className:"unselectable"},""),_e=f.default.createElement("i",{className:"fa fa-trash-o"}),we=f.default.createElement("i",{className:"fa fa-trash-o"}),Le=f.default.createElement("i",{className:"fa fa-trash-o"}),Me=f.default.createElement("td",{className:"unselectable"},""),Ve=f.default.createElement("td",{className:"unselectable"},""),Re=f.default.createElement("i",{className:"fa fa-trash-o"}),$e=f.default.createElement("td",{className:"unselectable"},""),qe=f.default.createElement("td",{className:"unselectable"},""),Fe=f.default.createElement("td",{className:"unselectable"},""),He=f.default.createElement("td",{className:"unselectable"},""),je=f.default.createElement("i",{className:"fa fa-trash-o"}),We=f.default.createElement("i",{className:"fa fa-trash-o"}),Be=f.default.createElement("i",{className:"fa fa-trash-o"}),Ue=f.default.createElement("td",{className:"unselectable"},""),Ye=f.default.createElement("i",{className:"fa fa-trash-o"}),Ze=f.default.createElement("td",{className:"unselectable"},""),ze=f.default.createElement("td",{className:"unselectable"},""),Qe=f.default.createElement("td",{className:"unselectable"},""),Ge=f.default.createElement("td",{className:"unselectable"},""),Je=f.default.createElement("td",{className:"unselectable"},""),Ke=f.default.createElement("td",{className:"unselectable"},""),Xe=f.default.createElement("i",{className:"fa fa-trash-o"}),et=f.default.createElement("i",{className:"fa fa-trash-o"}),tt=f.default.createElement("li",{className:"active"},f.default.createElement("a",{href:"#po-add","data-toggle":"tab"},"Purchase Order")),at=f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"General Details"))),lt=f.default.createElement("label",{htmlFor:"customer"},"Customer",f.default.createElement("span",{className:"required"},"*")),it=f.default.createElement("label",{htmlFor:"contact"},"Contact",f.default.createElement("span",{className:"required"},"*")),nt=f.default.createElement("label",{htmlFor:"project"},"Project"),rt=f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"Vendor Address")))),dt=f.default.createElement("label",{htmlFor:"vendorAddress1"},"Address 1",f.default.createElement("span",{className:"required"},"*")),st=f.default.createElement("label",{htmlFor:"vendorAddress2"},"Address 2"),mt=f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"portlet-title"},f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"Shipping Address")))),ot=f.default.createElement("label",{htmlFor:"shippingAddress1"},"Address 1",f.default.createElement("span",{className:"required"},"*")),ct=f.default.createElement("label",{htmlFor:"shippingAddress2"},"Address 2"),ut=f.default.createElement("option",{value:"1"},"Open"),ft=f.default.createElement("option",{value:"2"},"Close"),pt=f.default.createElement("option",{value:"3"},"In Process"),ht=f.default.createElement("label",{htmlFor:"form_control_1"},"Status"),bt=f.default.createElement("option",{value:"0"},"Select"),Et=f.default.createElement("option",{value:"1"},"Fed Ex"),Nt=f.default.createElement("option",{value:"2"},"Amazon"),vt=f.default.createElement("label",{htmlFor:"shipVia"},"Ship Via"),yt=f.default.createElement("label",{htmlFor:"shipDate"},"Ship Date"),gt=f.default.createElement("span",{className:"input-group-btn"},f.default.createElement("button",{className:"btn default date-set",type:"button"},f.default.createElement("i",{className:"fa fa-calendar"}))),It=f.default.createElement("label",{htmlFor:"notes"},"Notes"),Tt=f.default.createElement("label",{htmlFor:"requestBy"},"Request By",f.default.createElement("span",{className:"required"},"*")),Ct=f.default.createElement("div",{className:"caption"},f.default.createElement("i",{className:"icon-share font-dark"}),f.default.createElement("span",{className:"caption-subject font-dark bold uppercase"},"Line Items")),Dt=f.default.createElement("th",{className:"items"},"#"),xt=f.default.createElement("th",{className:"items"},"Mfg"),St=f.default.createElement("th",{className:"items"},"Model No"),Pt=f.default.createElement("th",{className:"items"},"Part No"),Ot=f.default.createElement("th",{className:"items"},"Desc"),At=f.default.createElement("th",{className:"items"},"Qty"),kt=f.default.createElement("th",{className:"rowtotal"},"Row Total"),_t=f.default.createElement("th",{className:"items"}),wt=f.default.createElement("th",{className:"items",rowSpan:"2"},"#"),Lt=f.default.createElement("th",{className:"items",rowSpan:"2"},"Item"),Mt=f.default.createElement("th",{className:"items",rowSpan:"2"},"Qty"),Vt=f.default.createElement("th",{className:"material",colSpan:"2"},"Material"),Rt=f.default.createElement("th",{className:"rowtotal",rowSpan:"2"},"Row Total"),$t=f.default.createElement("th",{className:"items",rowSpan:"2"}),qt=f.default.createElement("tr",null,f.default.createElement("th",{className:"material"},"Our Cost"),f.default.createElement("th",{className:"material"},"Our Cost Ext")),Ft=f.default.createElement("th",{className:"items",rowSpan:"2"},"#"),Ht=f.default.createElement("th",{className:"items",rowSpan:"2"},"Item"),jt=f.default.createElement("th",{className:"items",rowSpan:"2"},"Qty"),Wt=f.default.createElement("th",{className:"labor",colSpan:"5"},"Labor"),Bt=f.default.createElement("th",{className:"rowtotal",rowSpan:"2"},"Row Total"),Ut=f.default.createElement("th",{className:"items",rowSpan:"2"}),Yt=f.default.createElement("tr",null,f.default.createElement("th",{className:"labor"},"Hrs"),f.default.createElement("th",{className:"labor"},"Hrs Ext"),f.default.createElement("th",{className:"labor"},"Rate"),f.default.createElement("th",{className:"labor"},"Unit"),f.default.createElement("th",{className:"labor"},"Extended")),Zt=f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject font-dark bold"},"Add Line Item:")),zt=f.default.createElement("i",{className:"icon-plus"}),Qt=f.default.createElement("i",{className:"icon-plus"}),Gt=f.default.createElement("i",{className:"icon-plus"}),Jt=f.default.createElement("i",{className:"icon-plus"}),Kt=f.default.createElement("caption",{className:"font-dark bold uppercase"},"Total"),Xt=f.default.createElement("th",{colSpan:"1"},"Material"),ea=f.default.createElement("th",{colSpan:"1"},"Labor"),ta=f.default.createElement("th",{colSpan:"1"},"Shipping"),aa=f.default.createElement("th",{className:"caption-subject font-dark bold uppercase",colSpan:"1"},"Grand Total"),la=function(e){function t(e,a){var l;r(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return(0,Ne.default)(i),i.state=(l={shipDate:"",approvalDate:"",disabled:!1,companyValue:"",individualValue:"",projectValue:"",requestByValue:"",companyOptions:[],individualOptions:[],projectOptions:[],requestByOptions:[],itemDetails:[],supplierData:[],manufacturerList:[],itemValue:"",itemOptions:[]},n(l,"supplierData",[]),n(l,"itemPricedData",[]),n(l,"newItemAdded",""),n(l,"newAddedSupplier",""),n(l,"newItemAddFlag",!1),n(l,"itemTab","active"),n(l,"materialTab",""),n(l,"laborTab",""),n(l,"laborRatesData",[]),n(l,"itemDeleteIndex",""),n(l,"modalName",""),n(l,"query",""),n(l,"poNumber",""),l),i}return s(t,e),c(t,[{key:"componentWillMount",value:function(){var e={parent:"Purchase Orders",childone:"",childtwo:""};localStorage.companyId;this.props.breadCrumb(e);var t={companyId:localStorage.companyId};this.props.poAction.getPurchaseOrderNo(t),this.handleSearchDebounced=P.default.debounce(function(){this.state.query&&this.props.proActions.getItemData(this.state.query,w.GET_PO_ITEM)},350)}},{key:"componentDidMount",value:function(){if(setTimeout(function(){z.FloatLabel.init(),Z.FormValidationMd.init()},400),localStorage.contactPoId){var e={contactId:localStorage.contactPoId};this.props.contactactions.getContact(e)}var t=this,a=document.getElementById("create_po");a&&a.addEventListener("keydown",function(e){var a=e.key;"Escape"===a?t.state.modalName&&$(t.state.modalName).modal("hide"):"Enter"===a&&("#subheader_add"==t.state.modalName?t.handleHeaderAdd():"#shipping_add"==t.state.modalName?t.handleShippingAdd():"#labor_add"==t.state.modalName&&t.handleLaborAdd())}),$("body").on("hidden.bs.modal",function(){t.state.modalName=""})}},{key:"componentWillReceiveProps",value:function(e){var t=[],a=[],l=[],i=[],n=[];if(localStorage.contactPoId&&0==t.length&&0==a.length){var r={id:e.createcontact.companyContactId,label:e.createcontact.companyName},d={id:e.createcontact._id,label:e.createcontact.firstname+" "+e.createcontact.lastname};this.setState({companyValue:r,individualValue:d})}e.companyList.map(function(e,a){var l={id:e._id,label:e.companyName};t.push(l)}.bind(this)),e.individualList.map(function(e,t){var l={id:e._id,label:e.firstname+" "+e.lastname};a.push(l)}.bind(this)),e.projectList.map(function(e,t){var a={id:e._id,label:e.title};l.push(a)}.bind(this)),e.requestByList.map(function(e,t){var a={id:e._id,label:e.firstname+" "+e.lastname};i.push(a)}.bind(this));if(0!=e.itemList.length){e.itemList.map(function(e,t){var a={id:e._id,label:e.itemName,unitPrice:e.listPrice};n.push(a)}.bind(this))}if(this.state.newItemAddFlag&&e.newCreatedItem){var s={itemName:e.newCreatedItem.itemName,modal:e.newCreatedItem.modal,partNumber:e.newCreatedItem.partNumber,manufacturer:e.newCreatedItem.manufacturer,labourHour:0,_id:e.newCreatedItem._id},m={itemId:e.newCreatedItem._id,dealerPrice:this.state.newAddedSupplier?this.state.newAddedSupplier[0].dealerPrice:0};this.state.newItemAddFlag=!1,this.state.newItemAdded=s,this.handleLineItemAdd("",m)}this.setState({companyOptions:t,individualOptions:a,projectOptions:l,requestByOptions:i,itemOptions:this.state.query?e.itemList:[],manufacturerList:e.ManufacturerList}),setTimeout(function(){z.FloatLabel.init()},400),e.poNumber&&this.setState({poNumber:e.poNumber})}},{key:"componentWillUnmount",value:function(){localStorage.setItem("contactPoId","")}},{key:"componentWillUpdate",value:function(e,t){var a=this,l=this.refs.sortable,i=0;"active"==a.state.itemTab?l=this.refs.sortable:"active"==a.state.materialTab?l=this.refs.sortable1:"active"==a.state.laborTab&&(l=this.refs.sortable2),$(l).sortable({update:function(e,n){var r=[];$(l).sortable("toArray",{attribute:"data-id"}).map(function(e){r.push(t.itemPricedData[e])}),r.forEach(function(e,t){e:if(t>i)if(e.headerName){if(e.headerName){i=0;break e}}else e.header=r[i].headerName}),a.setState({itemPricedData:r}),$(l).sortable("cancel")},change:function(e,t){var a=t.placeholder.index();a>-1&&(i=a)}}).disableSelection()}},{key:"handleCompanyChange",value:function(e){this.setState({companyValue:e,individualValue:"",individualOptions:[]})}},{key:"handleIndividualChange",value:function(e){this.setState({individualValue:e})}},{key:"handleProjectChange",value:function(e){this.setState({projectValue:e})}},{key:"handleRequestByChange",value:function(e){this.setState({requestByValue:e})}},{key:"onProjectInputChange",value:function(e){var t=this.state.companyValue?this.state.companyValue.id:"";if(t){var a={title:e,companyId:localStorage.companyId,contactId:t};this.props.proActions.getProjectData(a)}}},{key:"onInputChangeIndividual",value:function(e){if(this.state.companyValue&&this.state.companyValue.id){var t={firstname:e,companyId:localStorage.companyId,contactId:this.state.companyValue.id};this.props.actions.getIndividualData(t)}}},{key:"onInputChange",value:function(e){var t={companyName:e,companyId:localStorage.companyId};this.props.actions.getCompanyList(t)}},{key:"onRequestByInputChange",value:function(e){var t={firstname:e,companyId:localStorage.companyId};this.props.poAction.getRequestBy(t)}},{key:"handleShipDateEvent",value:function(e,t){var a=t.startDate.format("MM/DD/YYYY");this.setState({shipDate:a})}},{key:"handleApprovalDateEvent",value:function(e,t){var a=t.startDate.format("MM/DD/YYYY");this.setState({approvalDate:a})}},{key:"onItemInputChange",value:function(e){var t=e.target.value.trim();if(t){var a={itemName:t,companyId:localStorage.companyId};this.setState({query:a}),this.handleSearchDebounced()}else this.setState({itemOptions:[],query:""})}},{key:"handlePopUpClose",value:function(e){if("item"===e){var t=this.refs.lineitem_add.refs.lineitem_add;this.setState({itemValue:"",itemOptions:[]}),$(t).modal("hide")}else if("supplier"===e){var a=this.refs.supplier_add.refs.supplier_add;$(a).modal("hide")}else"newItem"===e&&(b.default.findDOMNode(this.refs.itemPo.refs.item_manufacturer).value="",this.setState({manufacturerValue:"",manufacturerList:[]}),$("#add_item").modal("hide"))}},{key:"handleItemSubmit",value:function(e){var t=this.state.itemOptions[e];if(1===t.suppliersInfo.length){var a=t.suppliersInfo[0];this.handleLineItemAdd(e,a)}else if(t.suppliersInfo){var l=this.refs.supplier_add.refs.supplier_add;this.setState({supplierData:t.suppliersInfo}),$(l).modal({backdrop:"static",keyboard:!1})}}},{key:"handleLineItemAdd",value:function(e,t){var a="",l="";a=""===t?this.state.supplierData[e]:t,l=""!==e?this.state.itemOptions.find(function(e){return e._id===a.itemId}):this.state.newItemAdded;var i=l.manufacturer,n=l.partNumber,r=l.modal,d=l.itemName,s=1,m=a.dealerPrice?parseInt(a.dealerPrice):0,o=m*s,c=l.labourHour?parseInt(l.labourHour):0,u=c*s,f=0,p=u*f,h={itemId:l._id,itemMfg:i,partNo:n,modelNo:r,itemName:d,quantity:s,mOurCost:m,mOurCostExtended:o,lHours:c,lExtended:p,lHoursExtended:u,lRate:f,rowTotal:o+p,header:"",itemTypeId:1,unit:c*f},b=this.state.itemPricedData;b.push(h),this.setState({itemPricedData:b,itemOptions:[]});var E=this.refs.lineitem_add.refs.lineitem_add,N=this.refs.supplier_add.refs.supplier_add;$(E).modal("hide"),$(N).modal("hide")}},{key:"handleLaborAdd",value:function(e){toastr.remove();var t=b.default.findDOMNode(this.refs.labr_desc.refs.labor_description).value,a=b.default.findDOMNode(this.refs.labr_desc.refs.labor_quantity).value;if(t.trim())if(a&&parseInt(a)>0){var l={itemMfg:"",partNo:"",modelNo:"",itemName:b.default.findDOMNode(this.refs.labr_desc.refs.labor_description).value,quantity:b.default.findDOMNode(this.refs.labr_desc.refs.labor_quantity).value?parseInt(b.default.findDOMNode(this.refs.labr_desc.refs.labor_quantity).value):1,mOurCost:0,mOurCostExtended:0,laborTypeName:0!=this.state.laborRatesData.length?this.state.laborRatesData[0].laborType:"",lType:0!=this.state.laborRatesData.length?this.state.laborRatesData[0]._id:"",lHours:0,lExtended:0,lHoursExtended:0,lRate:0!=this.state.laborRatesData.length?this.state.laborRatesData[0].rate:"",rowTotal:0,header:"",unit:0,itemTypeId:2},i=this.state.itemPricedData;i.push(l),this.setState({itemPricedData:i,itemTab:"",materialTab:"",laborTab:"active"});var n=this.refs.labr_desc.refs.labor_add;$(n).modal("hide")}else toastr.error("Please enter valid quantity.");else toastr.error("Please enter description.")}},{key:"handleHeaderAdd",value:function(e){toastr.remove();var t=b.default.findDOMNode(this.refs.head_txt.refs.subheader).value;if(""!==t.trim()){var a={header:"",headerName:t,itemTypeId:4},l=this.state.itemPricedData;l.push(a),this.setState({itemPricedData:l}),$("#subheader_add").modal("hide")}else toastr.error("Please enter a valid sub-header.")}},{key:"handleShippingAdd",value:function(e){toastr.remove();var t=(b.default.findDOMNode(this.refs.ship_desc.refs.description).value,b.default.findDOMNode(this.refs.ship_desc.refs.amount).value);if(t&&parseInt(t)>0){var a={itemTypeId:3,header:"",rowTotal:b.default.findDOMNode(this.refs.ship_desc.refs.amount).value?parseInt(b.default.findDOMNode(this.refs.ship_desc.refs.amount).value):0,itemName:b.default.findDOMNode(this.refs.ship_desc.refs.description).value},l=this.state.itemPricedData;l.push(a),this.setState({itemPricedData:l}),$("#shipping_add").modal("hide")}else toastr.error("Please enter valid amount.")}},{key:"createItemHandler",value:function(){$("#add_item").modal("show")}},{key:"confirmationHandler",value:function(){$("#confirm_id").modal("hide"),$("#add_item").modal("show")}},{key:"getManufacturerList",value:function(e){if(e.target.value&&e.target.value.trim()){this.setState({manufacturerValue:e.target.value});var t={companyId:localStorage.companyId,manufacturer:e.target.value.trim()};this.props.proActions.getManufacturerList(t)}else this.setState({manufacturerList:[],manufacturerValue:""})}},{key:"selectManufacturer",value:function(e){this.setState({manufacturerValue:e,manufacturerList:[]})}},{key:"addItemHandler",value:function(){if((0,I.default)("#add_other_item").valid()){var e=b.default.findDOMNode(this.refs.itemPo.refs.item_name).value.trim(),t=b.default.findDOMNode(this.refs.itemPo.refs.item_modalNo).value.trim(),a=b.default.findDOMNode(this.refs.itemPo.refs.item_partNo).value.trim(),l=b.default.findDOMNode(this.refs.itemPo.refs.item_manufacturer).value.trim(),i=b.default.findDOMNode(this.refs.itemPo.refs.supplierName).value.trim(),n=b.default.findDOMNode(this.refs.itemPo.refs.listPrice).value.trim(),r=b.default.findDOMNode(this.refs.itemPo.refs.dealerPrice).value.trim(),d=[{supplierName:i,listPrice:n.replace(/[^0-9.]/g,""),dealerPrice:r.replace(/[^0-9.]/g,""),priceDate:(0,x.default)()}],s={companyId:localStorage.companyId,itemName:e,modal:t,partNumber:a,manufacturer:l,itemStatus:"Active",suppliers:d,createdBy:localStorage.userName};this.setState({newAddedSupplier:d,newItemAddFlag:!0}),this.props.itemaction.createItemNew(s),$("#add_item").modal("hide"),$("#lineitem_add").modal("hide")}}},{key:"handleLineTab",value:function(e){1===e?this.setState({itemTab:"active",materialTab:"",laborTab:""}):2===e?this.setState({itemTab:"",materialTab:"active",laborTab:""}):3===e&&this.setState({itemTab:"",materialTab:"",laborTab:"active"})}},{key:"isStringValidNumber",value:function(e){var t=parseInt(e);return!(isNaN(t)||t<0)&&t}},{key:"updateLineItemsTable",value:function(e,t,a){if("QTY"==t){var l=parseInt(a.data),i=this.state.itemPricedData,n=this.state.itemPricedData[e];n.quantity=l,n.mOurCostExtended=n.mOurCost*l,n.lHoursExtended=n.lHours*l,n.lExtended=n.lHoursExtended*n.lRate,n.rowTotal=n.mOurCostExtended+n.lExtended,i.splice(e,1,n),this.setState({itemPricedData:i})}else if("DESC"==t){var r=a.data,d=this.state.itemPricedData,s=this.state.itemPricedData[e];s.itemName=r,d.splice(e,1,s),this.setState({itemPricedData:d})}else if("HOURS"==t){var m=parseInt(a.data),o=this.state.itemPricedData,c=this.state.itemPricedData[e];c.lHours=m,c.lHoursExtended=c.lHours*c.quantity,c.lExtended=c.lHoursExtended*c.lRate,c.rowTotal=c.mOurCostExtended+c.lExtended,c.unit=c.lRate*c.lHours,o.splice(e,1,c),this.setState({itemPricedData:o})}else if("RATE"==t){var u=parseInt(a.data),f=this.state.itemPricedData,p=this.state.itemPricedData[e];p.lRate=u,p.lExtended=p.lHoursExtended*p.lRate,p.rowTotal=p.mOurCostExtended+p.lExtended,p.unit=p.lRate*p.lHours,f.splice(e,1,p),this.setState({itemPricedData:f})}}},{key:"updateDesc",value:function(e,t,a){if("DESC"==t){var l=a.data,i=this.state.itemPricedData,n=this.state.itemPricedData[e];n.itemName=l,i.splice(e,1,n),this.setState({itemPricedData:i})}else if("ROWTOTAL"==t){var r=parseInt(a.data),d=this.state.itemPricedData,s=this.state.itemPricedData[e];s.rowTotal=r,d.splice(e,1,s),this.setState({itemPricedData:d})}}},{key:"handleDelete",value:function(e){this.setState({itemDeleteIndex:e}),$("#lineItem_delete").modal("show")}},{key:"deletePricedItem",value:function(){if(""!==this.state.itemDeleteIndex){$("#lineItem_delete").modal("hide");var e=this.state.itemPricedData;e:for(var t=0;t<e.length;t++)if(t>this.state.itemDeleteIndex)if(e[t].headerName){if(e[t].headerName)break e}else e[t].header="";e.splice(this.state.itemDeleteIndex,1),this.setState({itemPricedData:e,itemDeleteIndex:""})}}},{key:"poHandler",value:function(){if(toastr.remove(),(0,I.default)("#createPOs").valid()){if(0!=this.state.itemPricedData.length){var e=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCostExtended:e},0),t=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lExtended:e},0),a=this.state.itemPricedData.reduce(function(e,t){return 3===t.itemTypeId?e+t.rowTotal:e},0),l=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCost:e},0),i=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCostExtended:e},0),n=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lHoursExtended:e},0),r=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lExtended:e},0),d=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lHours:e},0),s=this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lRate:e},0),m=e+t+a,o={companyId:localStorage.companyId,customerId:this.state.companyValue?this.state.companyValue.id:"",contactId:this.state.individualValue?this.state.individualValue.id:"",projectId:this.state.projectValue?this.state.projectValue.id:"",vendor:b.default.findDOMNode(this.refs.vendor.refs.vendor).value.trim(),vendorAddress1:b.default.findDOMNode(this.refs.vendorAddress1).value.trim(),vendorAddress2:b.default.findDOMNode(this.refs.vendorAddress2).value.trim(),vendorState:b.default.findDOMNode(this.refs.vendorState.refs.vendorState).value.trim(),vendorCity:b.default.findDOMNode(this.refs.vendorCity.refs.vendorCity).value.trim(),vendorZip:b.default.findDOMNode(this.refs.vendorZip.refs.vendorZip).value.trim(),shippingAddress1:b.default.findDOMNode(this.refs.shippingAddress1).value.trim(),shippingAddress2:b.default.findDOMNode(this.refs.shippingAddress2).value.trim(),shippingCity:b.default.findDOMNode(this.refs.shippingCity.refs.shippingCity).value.trim(),shippingState:b.default.findDOMNode(this.refs.shippingState.refs.shippingState).value.trim(),shippingZip:b.default.findDOMNode(this.refs.shippingZip.refs.shippingZip).value.trim(),title:b.default.findDOMNode(this.refs.title.refs.title).value.trim(),trackingNumber:b.default.findDOMNode(this.refs.tracking.refs.tracking).value.trim(),requestedBy:this.state.requestByValue?this.state.requestByValue.id:"",shipVia:b.default.findDOMNode(this.refs.shipVia).value.trim(),statusId:parseInt(b.default.findDOMNode(this.refs.status).value.trim()),uponReceipt:b.default.findDOMNode(this.refs.uponReceipt.refs.uponReceipt).value.trim(),shipDate:this.state.shipDate,notes:b.default.findDOMNode(this.refs.notes).value.trim(),item:this.state.itemPricedData,materialTotal:e,laborTotal:t,shippingTotal:a,mOurCostTotal:l,mOurCostExtTotal:i,lHoursExtended:n,lExtendedTotal:r,lHoursTotal:d,lRateTotal:s,estimateTotal:m,createdBy:localStorage.userName,poNumber:this.state.poNumber};pe.showLoader("create_po"),this.props.poAction.createPO(o)}else toastr.error("Please add atleast one item to create purchase order.");return!1}}},{key:"handleModalOpen",value:function(e){var t=this;t.state.modalName="",$(e).modal({backdrop:"static"}),t.state.modalName=e}},{key:"render",value:function(){var e,t=(this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCostExtended:e},0),this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lExtended:e},0),this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.rowTotal:e},0),this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCost:e},0),this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.mOurCostExtended:e},0)),a=(this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lHoursExtended:e},0),this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lExtended:e},0)),l=(this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lHours:e},0),this.state.itemPricedData.reduce(function(e,t){return 3!==t.itemTypeId&&4!==t.itemTypeId?e+t.lRate:e},0),this.state.itemPricedData.reduce(function(e,t){return 3===t.itemTypeId?e+t.rowTotal:e},0)),i=this.state.itemOptions.map(function(e,t){return f.default.createElement("tr",{key:t},f.default.createElement("td",null,e.manufacturer?e.manufacturer:"-"),f.default.createElement("td",null,e.modal?e.modal:"-"),f.default.createElement("td",null,e.partNumber?e.partNumber:"-"),f.default.createElement("td",null,e.itemName?e.itemName:"-"),f.default.createElement("td",null,f.default.createElement("button",{type:"button",className:"btn btn-xs green",onClick:this.handleItemSubmit.bind(this,t)},"Select item")))}.bind(this)),r=this.state.supplierData.map(function(e,t){return f.default.createElement("tr",{key:t},f.default.createElement("td",null,e.supplierName?e.supplierName:"-"),f.default.createElement("td",null,e.dealerPrice?e.dealerPrice:"-"),f.default.createElement("td",null,e.listPrice?e.listPrice:"-"),f.default.createElement("td",null,e.demoPrice?e.demoPrice:"-"),f.default.createElement("td",null,f.default.createElement("button",{type:"button",className:"btn btn-xs green",onClick:this.handleLineItemAdd.bind(this,t,"")},"Select supplier")))}.bind(this)),d=this.state.manufacturerList.map(function(e,t){return f.default.createElement("li",{key:t,onClick:this.selectManufacturer.bind(this,e)},f.default.createElement("a",null,e))}.bind(this)),s=0,m=0,o=0,c=this.state.itemPricedData.map(function(e,t){return 1==e.itemTypeId?s+=1:2==e.itemTypeId?s+=1:3==e.itemTypeId?s+=1:4==e.itemTypeId&&(s=s),1===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{style:{textAlign:"center"}},s),f.default.createElement("td",null,e.itemMfg),f.default.createElement("td",null,e.modelNo?e.modelNo:"-"),f.default.createElement("td",null,e.partNo?e.partNo:"-"),f.default.createElement("td",null,f.default.createElement(k.RIETextArea,{activeClassName:"form-control input-small",classEditing:"form-control",value:e.itemName?e.itemName:"",propName:"data",change:this.updateLineItemsTable.bind(this,t,"DESC")})),f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-xsmall",value:e.quantity?e.quantity.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"QTY")})),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,2),style:{textAlign:"right",cursor:"pointer"}},e.mOurCostExtended?"$"+be.numberWithCommas(e.mOurCostExtended.toFixed(2)):"$0"),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,3),style:{textAlign:"right",cursor:"pointer"}},e.lExtended?"$"+be.numberWithCommas(e.lExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+be.numberWithCommas(e.rowTotal.toFixed(2)):"$0"),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},ve))):2===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{style:{textAlign:"center"}},s),ye,ge,Ie,f.default.createElement("td",null,f.default.createElement(k.RIETextArea,{activeClassName:"form-control input-small",classEditing:"form-control",value:e.itemName?e.itemName:"",propName:"data",change:this.updateDesc.bind(this,t,"DESC")})),f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-xsmall",value:e.quantity?e.quantity.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"QTY")})),Te,Ce,f.default.createElement("td",{style:{textAlign:"right"}},"$",f.default.createElement(k.RIEInput,{activeClassName:"form-control input-xsmall",classEditing:"form-control",value:e.rowTotal?be.numberWithCommas(e.rowTotal.toFixed(2)):"0",propName:"data",change:this.updateDesc.bind(this,t,"ROWTOTAL")})),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},De))):3===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{style:{textAlign:"center"}},s),xe,Se,Pe,f.default.createElement("td",null,"Shipping:",f.default.createElement(k.RIETextArea,{activeClassName:"form-control input-small",classEditing:"form-control",value:e.itemName?e.itemName:"",propName:"data",change:this.updateDesc.bind(this,t,"DESC")})),Oe,Ae,ke,f.default.createElement("td",{style:{textAlign:"right"}},"$",f.default.createElement(k.RIEInput,{activeClassName:"form-control input-xsmall",classEditing:"form-control",value:e.rowTotal?be.numberWithCommas(e.rowTotal.toFixed(2)):"0",propName:"data",change:this.updateDesc.bind(this,t,"ROWTOTAL")})),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},_e))):4===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{className:"unselectable-header",colSpan:"9"},e.headerName),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},we))):void 0}.bind(this)),u=this.state.itemPricedData.map(function(e,t){return 1==e.itemTypeId?m+=1:2==e.itemTypeId?m+=1:3==e.itemTypeId?m+=1:4==e.itemTypeId&&(m=m),1===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",null,m||""),f.default.createElement("td",null,e.itemMfg+" "+e.modelNo+" "+(e.partNo?" ("+e.partNo+")":null)),f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-xsmall",value:e.quantity?e.quantity.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"QTY")})),f.default.createElement("td",{style:{textAlign:"right"}},e.mOurCost?"$"+be.numberWithCommas(e.mOurCost.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.mOurCostExtended?"$"+be.numberWithCommas(e.mOurCostExtended.toFixed(2)):"$0"),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,3),style:{textAlign:"right",cursor:"pointer"}},e.lExtended?"$"+be.numberWithCommas(e.lExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+be.numberWithCommas(e.rowTotal.toFixed(2)):"$0"),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},Le))):2===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",null,m||""),f.default.createElement("td",null,e.itemName?e.itemName:""),f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-xsmall",value:e.quantity?e.quantity.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"QTY")})),Me,Ve,f.default.createElement("td",{style:{textAlign:"right"}},e.lExtended?"$"+be.numberWithCommas(e.lExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+be.numberWithCommas(e.rowTotal.toFixed(2)):"$0"),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},Re))):3===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",null,m||""),f.default.createElement("td",null,e.itemName?e.itemName:""),$e,qe,Fe,He,f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+be.numberWithCommas(e.rowTotal.toFixed(2)):"$0"),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},je))):4===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{className:"unselectable-header",colSpan:"7"},e.headerName),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},We))):void 0}.bind(this)),h=this.state.itemPricedData.map(function(e,t){return 1==e.itemTypeId?o+=1:2==e.itemTypeId?o+=1:3==e.itemTypeId?o+=1:4==e.itemTypeId&&(o=o),1===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",null,o||""),f.default.createElement("td",null,e.itemMfg+" "+e.modelNo+" "+(e.partNo?" ("+e.partNo+")":null)),f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-xsmall",value:e.quantity?e.quantity.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"QTY")})),f.default.createElement("td",{onClick:this.handleLineTab.bind(this,2),style:{textAlign:"right",cursor:"pointer"}},e.mOurCostExtended?"$"+be.numberWithCommas(e.mOurCostExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-small",value:e.lHours?e.lHours:"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"HOURS"),style:{minWidth:150,display:"inline-block",margin:0,padding:0,fontSize:15,outline:0,border:0}})),f.default.createElement("td",{style:{textAlign:"center"}},e.lHoursExtended),f.default.createElement("td",{style:{textAlign:"right"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-small",value:e.lRate?e.lRate.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"RATE"),style:{minWidth:150,display:"inline-block",margin:0,padding:0,fontSize:15,outline:0,border:0}})),f.default.createElement("td",{style:{textAlign:"right"}},e.unit?"$"+be.numberWithCommas(e.unit.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.lExtended?"$"+be.numberWithCommas(e.lExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+be.numberWithCommas(e.rowTotal.toFixed(2)):"$0"),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},Be))):2===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",null,o||""),f.default.createElement("td",null,e.itemName?e.itemName:""),f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-xsmall",value:e.quantity?e.quantity.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"QTY")})),Ue,f.default.createElement("td",{style:{textAlign:"center"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-small",value:e.lHours?e.lHours:"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"HOURS"),style:{minWidth:150,display:"inline-block",margin:0,padding:0,fontSize:15,outline:0,border:0}})),f.default.createElement("td",{style:{textAlign:"center"}},e.lHoursExtended),f.default.createElement("td",{style:{textAlign:"right"}},f.default.createElement(k.RIENumber,{validate:this.isStringValidNumber,activeClassName:"form-control input-small",classEditing:"form-control input-small",value:e.lRate?e.lRate.toString():"0",propName:"data",change:this.updateLineItemsTable.bind(this,t,"RATE"),style:{minWidth:150,display:"inline-block",margin:0,padding:0,fontSize:15,outline:0,border:0}})),f.default.createElement("td",{style:{textAlign:"right"}},e.unit?"$"+be.numberWithCommas(e.unit.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.lExtended?"$"+be.numberWithCommas(e.lExtended.toFixed(2)):"$0"),f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+be.numberWithCommas(e.rowTotal.toFixed(2)):"$0"),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},Ye))):3===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",null,o||""),f.default.createElement("td",null,e.itemName?e.itemName:""),Ze,ze,Qe,Ge,Je,Ke,f.default.createElement("td",{style:{textAlign:"right"}},e.rowTotal?"$"+be.numberWithCommas(e.rowTotal.toFixed(2)):"$0"),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},Xe))):4===e.itemTypeId?f.default.createElement("tr",{key:t,"data-id":t},f.default.createElement("td",{className:"unselectable-header",colSpan:"9"},e.headerName),f.default.createElement("td",null,f.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,t)},et))):void 0}.bind(this));return f.default.createElement("div",null,f.default.createElement("div",{className:"portlet-title tabbable-line"},f.default.createElement("ul",{className:"nav nav-tabs"},tt,f.default.createElement("div",{className:"form-actions noborder text-right"},f.default.createElement(p.Link,{to:localStorage.contactPoId?"/contactpos/"+localStorage.contactPoId:"/po",className:"btn red"},"Cancel"),"  ",f.default.createElement("button",{type:"button",className:"btn blue",onClick:this.poHandler},"Save")))),f.default.createElement("div",{className:"portlet light bordered",id:"create_po"},f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"tab-content"},f.default.createElement("div",{className:"tab-pane active",id:"po-add"},at,f.default.createElement("form",{role:"form",id:"createPOs"},f.default.createElement("div",{className:"form-body"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Vendor",name:"vendor",htmlFor:"vendor",defaultValue:"",required:!0,ref:"vendor"})),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},lt,f.default.createElement(y.default,{disabled:this.state.disabled,value:this.state.companyValue,placeholder:"Customer",name:"",options:this.state.companyOptions,onFocus:this.clearIndividual,onChange:this.handleCompanyChange,onInputChange:this.onInputChange}))),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},it,f.default.createElement(y.default,{disabled:this.state.disabled,value:this.state.individualValue,placeholder:"Contact",name:"",options:this.state.individualOptions,onChange:this.handleIndividualChange,onInputChange:this.onInputChangeIndividual}))),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},nt,f.default.createElement(y.default,{disabled:this.state.disabled,value:this.state.projectValue,placeholder:"Project",name:"",id:"project",options:this.state.projectOptions,onChange:this.handleProjectChange,onInputChange:this.onProjectInputChange}))),rt,f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("textarea",{style:{resize:"none"},className:"form-control",rows:"1",ref:"vendorAddress1",name:"vendorAddress1",defaultValue:"",key:""}),dt)),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("textarea",{style:{resize:"none"},className:"form-control",rows:"1",ref:"vendorAddress2",name:"vendorAddress2",defaultValue:"",key:""}),st)),f.default.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"City",name:"vendorCity",htmlFor:"vendorCity",defaultValue:"",required:!0,ref:"vendorCity"})),f.default.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"State",name:"vendorState",htmlFor:"vendorState",defaultValue:"",required:!0,ref:"vendorState"})),f.default.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",min:0,parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Zip",name:"vendorZip",htmlFor:"vendorZip",defaultValue:"",required:!0,ref:"vendorZip"})),mt,f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("textarea",{style:{resize:"none"},className:"form-control",rows:"1",ref:"shippingAddress1",name:"shippingAddress1",defaultValue:""}),ot)),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("textarea",{style:{resize:"none"},className:"form-control",rows:"1",ref:"shippingAddress2",name:"shippingAddress2",defaultValue:""}),ct)),f.default.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"City",name:"shippingCity",htmlFor:"shippingCity",defaultValue:"",required:!0,ref:"shippingCity"})),f.default.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"State",name:"shippingState",htmlFor:"shippingState",defaultValue:"",required:!0,ref:"shippingState"})),f.default.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",min:0,parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Zip",name:"shippingZip",htmlFor:"shippingZip",defaultValue:"",required:!0,ref:"shippingZip"})),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("select",{className:"form-control edited",ref:"status",id:"form_control_1"},ut,ft,pt),ht)),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Upon Receipt",name:"uponReceipt",htmlFor:"uponReceipt",defaultValue:"",required:!0,ref:"uponReceipt"})),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Title",name:"title",htmlFor:"title",defaultValue:"",required:!0,ref:"title"})),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement("select",{className:"form-control edited",id:"",name:"shipVia",ref:"shipVia"},bt,Et,Nt),vt)),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement(ue.default,{inputType:"text",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Tracking #",name:"tracking",htmlFor:"tracking",defaultValue:"",required:!1,ref:"tracking"})),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-floating-label"},yt,f.default.createElement(N.default,{showDropdowns:!0,singleDatePicker:!0,minDate:(0,x.default)(),onApply:this.handleShipDateEvent},f.default.createElement("div",{className:"input-group date form_datetime"},f.default.createElement("input",(e={type:"text",className:"selected-date-range-btn",size:"16",readOnly:!0},n(e,"className","form-control"),n(e,"defaultValue",this.state.shipDate),n(e,"key",this.state.shipDate),n(e,"name",""),e)),gt)))),f.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},f.default.createElement(A.default,{style:{resize:"none"},rows:5,className:"form-control",ref:"notes",name:"notes",defaultValue:""}),It)),f.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},f.default.createElement("div",{className:"form-group form-md-floating-label"},Tt,f.default.createElement(y.default,{disabled:this.state.disabled,value:this.state.requestByValue,placeholder:"Contact",name:"",options:this.state.requestByOptions,onChange:this.handleRequestByChange,onInputChange:this.onRequestByInputChange})))))),f.default.createElement("div",{className:"portlet light portlet-fit portlet-datatable bordered"},f.default.createElement("div",{className:"portlet light bordered"},f.default.createElement("div",{className:"portlet-title tabbable-line"},Ct,f.default.createElement("ul",{className:"nav nav-tabs"},f.default.createElement("li",{className:this.state.itemTab},f.default.createElement("a",{href:"#portlet_tab1","data-toggle":"tab",onClick:this.handleLineTab.bind(this,1)}," Items ")),f.default.createElement("li",{className:this.state.materialTab},f.default.createElement("a",{href:"#portlet_tab2","data-toggle":"tab",onClick:this.handleLineTab.bind(this,2)}," Material ")),f.default.createElement("li",{className:this.state.laborTab},f.default.createElement("a",{href:"#portlet_tab3","data-toggle":"tab",onClick:this.handleLineTab.bind(this,3)}," Labor ")))),0!=this.state.itemPricedData.length?f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"tab-content"},f.default.createElement("div",{className:"tab-pane "+this.state.itemTab,id:"portlet_tab1"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"table-container table-responsive",style:{overflow:"auto"}},f.default.createElement("table",{className:"table table-striped table-bordered",id:"lineitem"},f.default.createElement("thead",null,f.default.createElement("tr",null,Dt,xt,St,Pt,Ot,At,f.default.createElement("th",{className:"material",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,2)},"Material"),f.default.createElement("th",{className:"labor",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,3)},"Labor"),kt,_t)),f.default.createElement("tbody",{id:"sortable",ref:"sortable"},c)))))),f.default.createElement("div",{className:"tab-pane "+this.state.materialTab,id:"portlet_tab2"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"table-container table-responsive",style:{overflow:"auto"}},f.default.createElement("table",{className:"table table-striped table-bordered",id:"lineitem"},f.default.createElement("thead",null,f.default.createElement("tr",null,wt,Lt,Mt,Vt,f.default.createElement("th",{className:"labor",rowSpan:"2",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,3)},"Labor"),Rt,$t),qt),f.default.createElement("tbody",{id:"sortable1",ref:"sortable1"},u)))))),f.default.createElement("div",{className:"tab-pane "+this.state.laborTab,id:"portlet_tab3"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-12"},f.default.createElement("div",{className:"table-container table-responsive",style:{overflow:"auto"}},f.default.createElement("table",{className:"table table-striped table-bordered",id:"lineitem"},f.default.createElement("thead",null,f.default.createElement("tr",null,Ft,Ht,jt,f.default.createElement("th",{className:"material",rowSpan:"2",style:{cursor:"pointer"},onClick:this.handleLineTab.bind(this,2)},"Material"),Wt,Bt,Ut),Yt),f.default.createElement("tbody",{id:"sortable2",ref:"sortable2"},h)))))))):null,f.default.createElement("div",{className:"portlet-title"},Zt,"  ",f.default.createElement("a",{onClick:this.handleModalOpen.bind(this,"#lineitem_add"),"data-backdrop":"static","data-keyboard":"false",className:"btn btn-sm btn-circle green"},zt,"Material"),"  ",f.default.createElement("a",{onClick:this.handleModalOpen.bind(this,"#labor_add"),"data-backdrop":"static","data-keyboard":"false",className:"btn btn-sm btn-circle blue"},Qt,"Labor"),"  ",f.default.createElement("a",{onClick:this.handleModalOpen.bind(this,"#subheader_add"),"data-backdrop":"static","data-keyboard":"false",className:"btn btn-sm btn-circle yellow"},Gt,"Sub-Header"),"  ",f.default.createElement("a",{onClick:this.handleModalOpen.bind(this,"#shipping_add"),"data-backdrop":"static","data-keyboard":"false",className:"btn btn-sm btn-circle purple"},Jt,"Shipping")),0!=this.state.itemPricedData.length?f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-4"},f.default.createElement("table",{className:"table table-striped table-bordered"},Kt,f.default.createElement("tbody",null,f.default.createElement("tr",null,Xt,f.default.createElement("td",{style:{textAlign:"right"}},"$",t?be.numberWithCommas(t.toFixed(2)):0)),f.default.createElement("tr",null,ea,f.default.createElement("td",{style:{textAlign:"right"}},"$",a?be.numberWithCommas(a.toFixed(2)):0)),f.default.createElement("tr",null,ta,f.default.createElement("td",{style:{textAlign:"right"}},"$",l?be.numberWithCommas(l.toFixed(2)):0)),f.default.createElement("tr",null,aa,f.default.createElement("td",{style:{textAlign:"right"}},"$",be.numberWithCommas((t+a+l).toFixed(2)))))))):null))),f.default.createElement(ae.default,{ref:"lineitem_add",materialAddId:"lineitem_add",onItemInputChange:this.onItemInputChange,itemOptions:this.state.itemOptions,searchedItems:i,handlePopUpClose:this.handlePopUpClose.bind(this,"item"),createItemHandler:this.createItemHandler.bind(this,"item")}),f.default.createElement(se.default,{ref:"head_txt",headerAddId:"subheader_add",handleHeaderAdd:this.handleHeaderAdd}),f.default.createElement(re.default,{ref:"ship_desc",shippingAddId:"shipping_add",handleShippingAdd:this.handleShippingAdd}),f.default.createElement(oe.default,{ref:"labr_desc",laborAddId:"labor_add",handleLaborAdd:this.handleLaborAdd}),f.default.createElement(ie.default,{ref:"supplier_add",selectSupplierId:"supplier_add",supplierData:r,handlePopUpClose:this.handlePopUpClose.bind(this,"supplier")}),f.default.createElement(ee.default,{confirmationId:"confirm_id",confirmationTitle:"",confirmationText:"Are you sure you want to create a new item in the database ?",confirmationHandler:this.confirmationHandler}),f.default.createElement(K.default,{mfgList:d,onInputChange:this.getManufacturerList,manufacturerValue:this.state.manufacturerValue,itemModalId:"add_item",addItemHandler:this.addItemHandler,ref:"itemPo",handlePopUpClose:this.handlePopUpClose.bind(this,"newItem")}),f.default.createElement(G.default,{deleteModalId:"lineItem_delete",deleteUserHandler:this.deletePricedItem})))))}}]),t}(f.default.Component);t.default=(0,T.connect)(m,o)(la)},1513:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(0),m=l(s);a(3);a(10);var o=m.default.createElement("div",{className:"modal-header"},m.default.createElement("div",{className:"caption"},m.default.createElement("span",{className:"caption-subject bold uppercase"},"Select Supplier"))),c=m.default.createElement("thead",null,m.default.createElement("tr",null,m.default.createElement("th",null,"Name"),m.default.createElement("th",null,"Dealer Price"),m.default.createElement("th",null,"List Price"),m.default.createElement("th",null,"Demo Price"),m.default.createElement("th",null,"Action"))),u=function(e){function t(e,a){i(this,t);var l=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.state={supplierData:null},l}return r(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({supplierData:e.supplierData})}},{key:"render",value:function(){return m.default.createElement("div",{id:this.props.selectSupplierId,ref:this.props.selectSupplierId,className:"modal fade",tabIndex:"-1","aria-hidden":"true"},m.default.createElement("div",{className:"modal-dialog "},m.default.createElement("div",{className:"modal-content"},o,m.default.createElement("div",{className:"modal-body"},m.default.createElement("div",{className:"row"},m.default.createElement("div",{className:"col-md-12"},m.default.createElement("div",{className:"table-container table-responsive",style:{height:"150px",overflow:"auto"}},m.default.createElement("table",{className:"table table-striped table-bordered"},c,m.default.createElement("tbody",null,this.state.supplierData)))))),m.default.createElement("div",{className:"modal-footer"},m.default.createElement("button",{type:"button",className:"btn dark btn-outline",onClick:this.props.handlePopUpClose.bind(this,"supplier")},"Close")))))}}]),t}(m.default.Component);t.default=u}});