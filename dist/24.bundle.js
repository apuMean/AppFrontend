webpackJsonp([24],{1391:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{itemLogs:e.itemCreation.itemLogs}}function c(e){return{actions:(0,v.bindActionCreators)(O,e)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),d=a(0),f=n(d),m=a(3),p=a(7),b=a(6),v=a(5),h=a(4),E=(l(h),a(16)),y=l(E),_=a(196),O=l(_),N=a(33),g=(l(N),a(296)),w=l(g),L=a(26),C=l(L),M=a(8),P=n(M),k=a(1671),S=a(25),T=f.default.createElement("div",{className:"caption"},f.default.createElement("span",{className:"caption-subject bold uppercase"},"Rejected imported materials log")),j=f.default.createElement("i",{className:"icon-paper-clip"}),I=f.default.createElement("span",{className:"fileinput-new"},f.default.createElement("i",{className:"icon-plus"})," Upload Import File"),D=f.default.createElement("input",{type:"hidden"}),R=f.default.createElement(m.Link,{to:"/material",className:"btn btn-sm btn-circle red"},"Back "),U=f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",null,"Mfg"),f.default.createElement("th",null,"Model"),f.default.createElement("th",null,"Part No"),f.default.createElement("th",null,"Name"))),x=function(e){function t(e,a){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return(0,P.default)(l),l.state={itemData:[]},l}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e={parent:"Materials",childone:"",childtwo:""};this.props.breadCrumb(e)}},{key:"componentDidMount",value:function(){setTimeout(function(){y.ItemTable.init()},2e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.itemLogs){$('input[type="file"]').val(null);var a=JSON.parse(JSON.stringify(e.itemLogs)),l=Object.values(a),n=l.length;l.splice(n-1,1),this.setState({itemData:l});var r=(0,p.findDOMNode)(t.refs.item_list);$(r).DataTable().destroy();var i=(0,p.findDOMNode)(t.refs.itemList);setTimeout(function(){y.ItemTable.init(),$(i).unblock()},3e3)}}},{key:"uploadCsvItems",value:function(e){var t=e.target.files[0],a=t.name;if((0,k.isValidMaterialSheet)(a)){var l=a.match(/crestron|extron/i);if(l){switch(l[0].toUpperCase()){case"CRESTRON":C.showLoader("itemList"),this.props.actions.uploadItemsCsv(t,S.UPLOAD_CRESTRON_CSV);break;case"EXTRON":C.showLoader("itemList"),this.props.actions.uploadItemsCsv(t,S.UPLOAD_EXTRON_CSV)}}else C.showLoader("itemList"),this.props.actions.uploadItemsCsv(t,S.UPLOAD_CSV)}else console.log("")}},{key:"render",value:function(){var e=this.state.itemData.map(function(e,t){return f.default.createElement("tr",{key:t},f.default.createElement("td",null,e.mfg?e.mfg:"-"),f.default.createElement("td",null,e.model?e.model:"-"),f.default.createElement("td",null,e.partNumber?e.partNumber:"-"),f.default.createElement("td",null,e.name?e.name:"-"))}.bind(this));return f.default.createElement("div",{className:"portlet light portlet-fit portlet-datatable bordered",id:"itemList",ref:"itemList"},f.default.createElement("div",{className:"portlet-title"},T,f.default.createElement("div",{className:"actions"},f.default.createElement("a",{href:w.IMPORT_ITEM_SAMPLE_HEROKU,target:"_blank",className:"btn btn-sm btn-circle blue"},j," Download Import Sample "),"   ",f.default.createElement("span",{className:"btn btn-sm btn-circle yellow btn-file"},I,D,f.default.createElement("input",{type:"file",name:"itemFileUpload",ref:"itemFileUpload",id:"itemFileUpload",accept:".csv",onChange:this.uploadCsvItems.bind(this)})),"   ",R)),f.default.createElement("div",{className:"portlet-body"},f.default.createElement("div",{className:"table-container table-responsive"},f.default.createElement("table",{className:"table table-striped table-bordered table-hover",id:"item_list",ref:"item_list"},U,f.default.createElement("tbody",null,e)))))}}]),t}(f.default.Component);t.default=(0,b.connect)(s,c)(x)},1671:function(e,t,a){"use strict";function l(e){if(""!=e){var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return"csv"==t||"xlsx"==t||"xls"==t||(toastr.clear(),toastr.error("Please select a valid file,File type invalid!"),!1)}toastr.clear(),toastr.error("Please select a valid file,File type invalid!")}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidMaterialSheet=l}});