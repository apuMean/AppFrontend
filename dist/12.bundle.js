webpackJsonp([12],{1358:function(e,t,a){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){return{createcontact:e.createcontact.contactData,dropdownsList:e.createcontact,companyList:e.createcontact.companyList,contactsList:e.createcontact.associatedContacts,parentCompanyList:e.createcontact.parentCompanyList,newAssociated:e.createcontact.individualAssociated,imagePath:e.createcontact.imagePath}}function c(e){return{actions:(0,b.bindActionCreators)(N,e)}}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),f=a(0),u=n(f),p=a(3),h=a(7),v=n(h),y=a(6),b=a(5),g=a(4),E=(i(g),a(197)),N=i(E),D=a(1),S=n(D),C=a(201),k=n(C),x=a(582),O=n(x),M=a(585),w=n(M),I=a(12),T=n(I),A=a(9),P=n(A),L=a(22),U=i(L),W=i(L),V=a(41),F=n(V),R=a(1467),H=n(R);a(10);var j=a(595),B=n(j),z=a(202),q=n(z),Z=a(195),J=i(Z),Q=a(26),K=i(Q),G=a(583),X=a(8),Y=n(X),ee=a(77),te=i(ee),ae="",ie="",ne="",se=!1,le=!1,oe=!1,re=u.default.createElement(p.Link,{to:"/company"},"Companies"),de=u.default.createElement("i",{className:"fa fa-star"}),ce=u.default.createElement("i",{className:"fa fa-pencil"}),me=u.default.createElement("i",{className:"fa fa-trash-o"}),fe=u.default.createElement("i",{className:"fa fa-pencil"}),ue=u.default.createElement("i",{className:"fa fa-trash-o"}),pe=u.default.createElement("i",{className:"fa fa-pencil"}),he=u.default.createElement("i",{className:"fa fa-trash-o"}),ve=u.default.createElement("div",{className:"portlet-title"},u.default.createElement("div",{className:"caption"},u.default.createElement("span",{className:"caption-subject bold uppercase"},"General Details"))),ye=u.default.createElement("span",{className:"fileinput-new"},"Select Logo"),be=u.default.createElement("span",{className:"fileinput-exists"},"Change"),ge=u.default.createElement("label",{htmlFor:"parent"},"Parent Company"),Ee=u.default.createElement("div",{className:"caption"},u.default.createElement("i",{className:"fa fa-phone"}),"Phone"),Ne=u.default.createElement("i",{className:"fa fa-plus"}),De=u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null),u.default.createElement("th",null,"Type"),u.default.createElement("th",null,"Number"),u.default.createElement("th",null))),Se=u.default.createElement("div",{className:"caption"},u.default.createElement("i",{className:"fa fa-envelope"}),"Email"),Ce=u.default.createElement("i",{className:"fa fa-plus"}),ke=u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null),u.default.createElement("th",null,"Type"),u.default.createElement("th",null,"Address"),u.default.createElement("th",null))),_e=u.default.createElement("div",{className:"caption"},u.default.createElement("i",{className:"fa fa-building"}),"Address"),xe=u.default.createElement("i",{className:"fa fa-plus"}),Oe=u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null),u.default.createElement("th",null,"Type"),u.default.createElement("th",null,"Addr. 1"),u.default.createElement("th",null,"Addr. 2"),u.default.createElement("th",null,"City"),u.default.createElement("th",null,"State"),u.default.createElement("th",null,"Zip"),u.default.createElement("th",null,"Country"))),Me=u.default.createElement("div",{className:"caption"},u.default.createElement("i",{className:"fa fa-address-book"}),"Contacts"),we=u.default.createElement("i",{className:"fa fa-plus"}),Ie=u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Name"),u.default.createElement("th",null,"Title"),u.default.createElement("th",null,"Phone"),u.default.createElement("th",null,"Email"))),Te=u.default.createElement("div",{className:"portlet-title tabbable-line"},u.default.createElement("div",{className:"caption"},u.default.createElement("span",{className:"caption-subject font-dark bold uppercase"},"Other Details"))),Ae=u.default.createElement("label",{htmlFor:"form_control_1"},"Created By"),Pe=u.default.createElement("label",{htmlFor:"form_control_1"},"On"),Le=u.default.createElement("label",{htmlFor:"form_control_1"},"Modified By"),Ue=u.default.createElement("label",{htmlFor:"form_control_1"},"On"),We=u.default.createElement("button",{type:"button","data-dismiss":"modal",className:"btn dark btn-outline"},"Close"),Ve=u.default.createElement("span",null),Fe=u.default.createElement("option",{value:"Work"},"Work"),Re=u.default.createElement("option",{value:"Mobile"},"Mobile"),He=u.default.createElement("option",{value:"Fax"},"Fax"),je=u.default.createElement("option",{value:"Home"},"Home"),Be=u.default.createElement("option",{value:"Other"},"Other"),ze=u.default.createElement("label",{htmlFor:"form_control_1"},"Phone",u.default.createElement("span",{className:"required"},"*")),$e=u.default.createElement("span",null),qe=u.default.createElement("option",{value:"Work"},"Work"),Ze=u.default.createElement("label",{htmlFor:"mail"},"Email",u.default.createElement("span",{className:"required"},"*")),Je=u.default.createElement("span",null),Qe=u.default.createElement("option",{value:"Work"},"Work"),Ke=u.default.createElement("option",{value:"1"},"US"),Ge=u.default.createElement("option",{value:"2"},"India"),Xe=u.default.createElement("label",{htmlFor:"address1"},"Address 1",u.default.createElement("span",{className:"required"},"*")),Ye=u.default.createElement("label",{htmlFor:"address2"},"Address 2"),et=u.default.createElement("label",{htmlFor:"addCity"},"City",u.default.createElement("span",{className:"required"},"*")),tt=u.default.createElement("label",{htmlFor:"addState"},"State",u.default.createElement("span",{className:"required"},"*")),at=u.default.createElement("label",{htmlFor:"addZip"},"Zip",u.default.createElement("span",{className:"required"},"*")),it=function(e){function t(e,a){l(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return(0,Y.default)(i),i.state={companyValue:"",companyOptions:[],phoneDetails:[],mailDetails:[],addressdetails:[],addType:"Add",deleteType:"Add",contactData:"",isPrimary:!0,activeTabName:"tab1",phoneType:"Work",mailType:"Work",addressType:"Work",deleteIndex:"",recordType:"",currentRecordState:"",_notificationSystem:null,undoFlag:!1,associatedContacts:[],parentCompanyValue:"",parentCompanyOptions:[],phoneIndex:"",newContactData:"",associateStatusId:"",breadcrumb:!0,imagePath:"",imageChange:!1,query:""},i}return r(t,e),m(t,[{key:"componentWillMount",value:function(){var e={companyId:localStorage.companyId};this.props.actions.getContactDropdowns(e);var t={contactId:this.props.params.companyId},a={companyId:localStorage.companyId,companyContactId:this.props.params.companyId,userType:2};this.props.actions.getContact(t),this.props.actions.getAssociatedContacts(a),this.handleParentSearchDebounced=_.debounce(function(){this.state.query&&this.props.actions.getParentCompanyList(this.state.query)},350)}},{key:"componentDidMount",value:function(){W.FormValidationMd.init(),this.state._notificationSystem=this.refs.notificationSystem,setTimeout(function(){U.FloatLabel.init()},400),K.showLoader("edit_contact");v.default.findDOMNode(this.refs.contactFileUpload)}},{key:"componentWillReceiveProps",value:function(e){var t=[],a=[],i=[],n=[];if(setTimeout(function(){U.FloatLabel.init()},400),e.createcontact&&!this.state.imageChange){var s=JSON.parse(JSON.stringify(e.createcontact));if(0!=e.createcontact.phoneInfo.length){s.phoneInfo.map(function(e,a){t.push(e)}.bind(this))}if(0!=e.createcontact.internetInfo.length){s.internetInfo.map(function(e,t){a.push(e)}.bind(this))}if(0!=s.addressInfo.length){s.addressInfo.map(function(e,t){i.push(e)}.bind(this))}if(0!=e.parentCompanyList.length){e.parentCompanyList.map(function(e,t){var a={id:e._id,label:e.companyName};n.push(a)}.bind(this))}if(this.state.newContactData){var l={companyId:localStorage.companyId,companyContactId:this.props.params.companyId,userType:2};this.props.actions.getAssociatedContacts(l)}var o={id:s.parentContactId?s.parentContactId:"",label:s.parentContactName?s.parentContactName:""};if(this.state.breadcrumb&&s.companyName){var r={parent:re,childone:s.companyName,childtwo:""};this.props.breadCrumb(r),this.state.breadcrumb=!1}this.setState({contactData:s,phoneDetails:t,mailDetails:a,addressdetails:i,associatedContacts:e.contactsList,parentCompanyOptions:n,parentCompanyValue:s.parentContactId?o:"",associateStatusId:s.assosiateStatusIdInfo?s.assosiateStatusIdInfo[0]._id:"",newContactData:"",imagePath:s.profileImage?s.profileImage:""}),setTimeout(function(){U.FormValidationMd.init()},3e3);var d=v.default.findDOMNode(this.refs.edit_contact);$(d).unblock()}e.imagePath&&this.state.imageChange?this.setState({imagePath:e.imagePath}):!e.imagePath&&this.state.imageChange&&this.setState({imagePath:""});var c=[];if(0!=e.companyList.length){e.companyList.map(function(e,t){var a={id:e._id,label:e.companyName};c.push(a)}.bind(this))}this.setState({companyOptions:c})}},{key:"addAssocitedContact",value:function(){$("#associtedCont").modal("show")}},{key:"addUpdatePhone",value:function(e,t,a){e?(ae="",se=!1,v.default.findDOMNode(this.refs.phone).value="",v.default.findDOMNode(this.refs.phone_CheckVal).checked=!1,$("#phoneUpdate").modal("show")):(ae=a,se=t.isPrimary,v.default.findDOMNode(this.refs.phonetype).value=t.phonetype,v.default.findDOMNode(this.refs.phone_CheckVal).checked=t.isPrimary,this.refs.phone.setState({value:t.phone}),setTimeout(function(){U.FloatLabel.init()},400),$("#phoneUpdate").modal("show"))}},{key:"addUpdateMail",value:function(e,t,a){e?(ie="",le=!1,v.default.findDOMNode(this.refs.mail).value="",v.default.findDOMNode(this.refs.mail_CheckVal).checked=!1):(ie=a,le=t.isPrimary,v.default.findDOMNode(this.refs.phonetype).value=t.internetType,v.default.findDOMNode(this.refs.mail).value=t.internetvalue,v.default.findDOMNode(this.refs.mail_CheckVal).checked=t.isPrimary,setTimeout(function(){U.FloatLabel.init()},400)),$("#emailUpdate").modal("show")}},{key:"addUpdateAddress",value:function(e,t,a){e?(ne="",oe=!1,v.default.findDOMNode(this.refs.address1).value="",v.default.findDOMNode(this.refs.address2).value="",v.default.findDOMNode(this.refs.addCity).value="",v.default.findDOMNode(this.refs.addState).value="",v.default.findDOMNode(this.refs.addZip).value="",v.default.findDOMNode(this.refs.country).value="1",v.default.findDOMNode(this.refs.address_CheckVal).checked=!1):(ne=a,oe=t.isPrimary,v.default.findDOMNode(this.refs.addresstype).value=t.addressType,v.default.findDOMNode(this.refs.address1).value=t.mapAddress1,v.default.findDOMNode(this.refs.address2).value=t.mapAddress2,v.default.findDOMNode(this.refs.addCity).value=t.city,v.default.findDOMNode(this.refs.addState).value=t.state,v.default.findDOMNode(this.refs.addZip).value=t.zip,v.default.findDOMNode(this.refs.country).value=2==t.countryId?"2":"1",v.default.findDOMNode(this.refs.address_CheckVal).checked=t.isPrimary,setTimeout(function(){U.FloatLabel.init()},400)),$("#addressUpdate").modal("show")}},{key:"handleContactDetails",value:function(e){var t=this.state.associatedContacts[e];window.open("/contact/"+t._id,"_blank")}},{key:"handleContactAdd",value:function(){if(toastr.remove(),(0,P.default)("#add_other_contact").valid()){var e=v.default.findDOMNode(this.refs.contactAssociated.refs.new_phone).value;if((e?J.removeSpecialCharSpace(e):"").length>=11){var t=[],a=[],i={phonetype:"Work",phone:v.default.findDOMNode(this.refs.contactAssociated.refs.new_phone).value.trim(),isPrimary:!0};t.push(i);var n={internetType:"Work",internetvalue:v.default.findDOMNode(this.refs.contactAssociated.refs.new_email).value.trim(),isPrimary:!0};a.push(n);var s={userId:localStorage.userId,companyId:localStorage.companyId,phone:t,internet:a,address:[],isSalesRep:!1,webAddress:"",companyName:v.default.findDOMNode(this.refs.contactAssociated.refs.new_company).value,title:"",companyContactId:this.props.params.companyId,firstname:v.default.findDOMNode(this.refs.contactAssociated.refs.first_name).value.trim(),lastname:v.default.findDOMNode(this.refs.contactAssociated.refs.last_name).value.trim(),userType:2,nickName:"",statusId:this.state.associateStatusId,createdBy:localStorage.userName};this.setState({newContactData:"N"});var l={companyId:localStorage.companyId,companyContactId:this.props.params.companyId,userType:2};this.props.actions.addOtherContactAssociate(s,2),this.props.actions.getAssociatedContacts(l),$("#associtedCont").modal("hide")}else toastr.error(te.VALID_PHONE)}}},{key:"checkAndAdd",value:function(e,t){if(toastr.remove(),"phone"==t){if(this.state.phoneDetails.some(function(t){return t.phone===e.phone}))toastr.error(te.UNIQUE_PHONE);else{var a=this.state.phoneDetails;if(v.default.findDOMNode(this.refs.phone_CheckVal).checked&&a.map(function(e,t){return e.isPrimary=ae===t,a}),""===ae){a.push(e);var i=a;this.setState({phoneDetails:i})}else{var n=a;n[ae].phonetype=v.default.findDOMNode(this.refs.phonetype).value,n[ae].phone=v.default.findDOMNode(this.refs.phone).value,this.setState({phoneDetails:n})}$("#phoneUpdate").modal("hide")}}else if("mail"==t){var s=this.state.mailDetails.some(function(t){return t.internetvalue===e.internetvalue});if(s)toastr.error(te.UNIQUE_EMAIL);else{var l=this.state.mailDetails;if(v.default.findDOMNode(this.refs.mail_CheckVal).checked&&l.map(function(e,t){return e.isPrimary=ie===t,l}),""===ie){l.push(e);var o=l;this.setState({mailDetails:o})}else{var r=l;r[ie].internetType=v.default.findDOMNode(this.refs.mailtype).value,r[ie].internetvalue=v.default.findDOMNode(this.refs.mail).value,this.setState({mailDetails:r})}$("#emailUpdate").modal("hide")}}}},{key:"primaryCheck",value:function(e,t){var a=t.target.checked;"phone"==e&&(se=a)}},{key:"addPhone",value:function(){toastr.remove();var e=v.default.findDOMNode(this.refs.phone).value,t=e?J.removeSpecialCharSpace(this.refs.phone.value):"",a=this;if(t.length>=11&&t.includes("x")){if(t.substring(0,t.indexOf("x")).length<10)toastr.error(te.VALID_PHONE);else{var i={phonetype:this.refs.phonetype.value.trim(),phone:this.refs.phone.value.trim(),isPrimary:0===a.state.phoneDetails.length||this.refs.phone_CheckVal.checked};if(""!==ae){var n=JSON.parse(JSON.stringify(a.state.phoneDetails)),s=[];n.map(function(e,t){t!=ae&&s.push(e)});if(s.some(function(t){return t.phone===e}))toastr.error(te.UNIQUE_PHONE);else{v.default.findDOMNode(this.refs.phone_CheckVal).checked&&a.state.phoneDetails.map(function(e,t){return e.isPrimary=ae===t,a.state.phoneDetails});var l=a.state.phoneDetails;l[ae].phonetype=v.default.findDOMNode(this.refs.phonetype).value,l[ae].phone=v.default.findDOMNode(this.refs.phone).value,a.setState({phoneDetails:l}),$("#phoneUpdate").modal("hide")}}else t.length>=11?this.checkAndAdd(i,"phone"):toastr.error(te.VALID_PHONE)}}else if(t.length>=11){var o={phonetype:this.refs.phonetype.value.trim(),phone:this.refs.phone.value.trim(),isPrimary:0===a.state.phoneDetails.length||this.refs.phone_CheckVal.checked};if(""!==ae){var r=JSON.parse(JSON.stringify(a.state.phoneDetails)),d=[];r.map(function(e,t){t!=ae&&d.push(e)});var c=d.some(function(t){return t.phone===e});if(c)toastr.error(te.UNIQUE_PHONE);else{v.default.findDOMNode(this.refs.phone_CheckVal).checked&&a.state.phoneDetails.map(function(e,t){return e.isPrimary=ae===t,a.state.phoneDetails});var m=a.state.phoneDetails;m[ae].phonetype=v.default.findDOMNode(this.refs.phonetype).value,m[ae].phone=v.default.findDOMNode(this.refs.phone).value,a.setState({phoneDetails:m}),$("#phoneUpdate").modal("hide")}}else t.length>=11?this.checkAndAdd(o,"phone"):toastr.error(te.VALID_PHONE)}else toastr.error(te.VALID_PHONE)}},{key:"undoData",value:function(e,t){if("phone"===this.state.recordType){var a=this.state.phoneDetails;a.splice(t,0,e),this.setState({phoneDetails:a,undoFlag:!1}),toastr.success(te.RECOVERED_SUCCESS)}else if("mail"===this.state.recordType){var i=this.state.mailDetails;i.splice(t,0,e),this.setState({mailDetails:i,undoFlag:!1}),toastr.success(te.RECOVERED_SUCCESS)}else if("address"===this.state.recordType){var n=this.state.addressdetails;n.splice(t,0,e),this.setState({addressdetails:n,undoFlag:!1}),toastr.success(te.RECOVERED_SUCCESS)}}},{key:"removePhone",value:function(e){var t=this.state.phoneDetails[e];this.setState({currentRecordState:t}),this.state.phoneDetails.splice(e,1),this.setState({phoneDetails:this.state.phoneDetails,undoFlag:!0}),$("#contact_record_remove").modal("hide"),this.state._notificationSystem.addNotification({title:"Undo changes?",message:"This record can't be recovered later!",level:"info",position:"tc",autoDismiss:0,action:{label:"Undo",callback:function(){this.undoData(this.state.currentRecordState,e)}.bind(this)},onRemove:function(e){1==t.isPrimary&&0!==this.state.phoneDetails.length&&1==this.state.undoFlag&&(this.state.phoneDetails[0].isPrimary=!0),this.setState({undoFlag:!1})}.bind(this)})}},{key:"addMail",value:function(e){toastr.remove(),e.preventDefault();var t=v.default.findDOMNode(this.refs.mail).value,a=this;if(J.isEmail(v.default.findDOMNode(this.refs.mail).value.trim())){var i={internetType:v.default.findDOMNode(this.refs.mailtype).value.trim(),internetvalue:v.default.findDOMNode(this.refs.mail).value.trim(),isPrimary:0===a.state.mailDetails.length||this.refs.mail_CheckVal.checked};if(""!==ie){var n=JSON.parse(JSON.stringify(a.state.mailDetails)),s=[];n.map(function(e,t){t!=ie&&s.push(e)});if(s.some(function(e){return e.internetvalue===t}))toastr.error(te.UNIQUE_EMAIL);else{v.default.findDOMNode(this.refs.mail_CheckVal).checked&&a.state.mailDetails.map(function(e,t){return e.isPrimary=ie===t,a.state.mailDetails});var l=a.state.mailDetails;l[ie].internetType=v.default.findDOMNode(this.refs.mailtype).value,l[ie].internetvalue=v.default.findDOMNode(this.refs.mail).value,this.setState({mailDetails:l}),$("#emailUpdate").modal("hide")}}else J.isEmail(v.default.findDOMNode(this.refs.mail).value.trim())?this.checkAndAdd(i,"mail"):toastr.error(te.VALID_EMAIL)}else toastr.error(te.VALID_EMAIL)}},{key:"removeMail",value:function(e){var t=this.state.mailDetails[e];this.setState({currentRecordState:t}),this.state.mailDetails.splice(e,1),this.setState({mailDetails:this.state.mailDetails,undoFlag:!0}),$("#contact_record_remove").modal("hide"),this.state._notificationSystem.addNotification({title:"Undo changes?",message:"This record can't be recovered later!",level:"info",position:"tc",autoDismiss:0,action:{label:"Undo",callback:function(){this.undoData(this.state.currentRecordState,e)}.bind(this)},onRemove:function(e){1==t.isPrimary&&0!==this.state.mailDetails.length&&1==this.state.undoFlag&&(this.state.mailDetails[0].isPrimary=!0),this.setState({undoFlag:!1})}.bind(this)})}},{key:"addAddress",value:function(e){if((0,P.default)("#validateAdd").valid()){toastr.remove(),e.preventDefault();var t={addressType:v.default.findDOMNode(this.refs.addresstype).value.trim(),mapAddress1:v.default.findDOMNode(this.refs.address1).value.trim(),mapAddress2:v.default.findDOMNode(this.refs.address2).value.trim(),city:v.default.findDOMNode(this.refs.addCity).value.trim(),state:v.default.findDOMNode(this.refs.addState).value.trim(),zip:v.default.findDOMNode(this.refs.addZip).value.trim(),countryId:v.default.findDOMNode(this.refs.country).value.trim(),isPrimary:0==this.state.addressdetails.length||this.refs.address_CheckVal.checked},a=this.state.addressdetails;if(v.default.findDOMNode(this.refs.address_CheckVal).checked&&a.map(function(e,t){return e.isPrimary=ne===t,a}),""===ne){a.push(t);var i=a;this.setState({addressdetails:i})}else{var n=a;n[ne].addressType=v.default.findDOMNode(this.refs.addresstype).value,n[ne].mapAddress1=v.default.findDOMNode(this.refs.address1).value,n[ne].mapAddress2=v.default.findDOMNode(this.refs.address2).value,n[ne].city=v.default.findDOMNode(this.refs.addCity).value,n[ne].state=v.default.findDOMNode(this.refs.addState).value,n[ne].zip=v.default.findDOMNode(this.refs.addZip).value,n[ne].countryId=v.default.findDOMNode(this.refs.country).value,this.setState({addressdetails:n})}v.default.findDOMNode(this.refs.address1).value="",v.default.findDOMNode(this.refs.address2).value="",v.default.findDOMNode(this.refs.addCity).value="",v.default.findDOMNode(this.refs.addState).value="",v.default.findDOMNode(this.refs.addZip).value="",$("#addressUpdate").modal("hide")}}},{key:"removeAddress",value:function(e){var t=this.state.addressdetails[e];this.setState({currentRecordState:t}),this.state.addressdetails.splice(e,1),this.setState({addressdetails:this.state.addressdetails,undoFlag:!0}),$("#contact_record_remove").modal("hide"),this.state._notificationSystem.addNotification({title:"Undo changes?",message:"This record can't be recovered later!",level:"info",position:"tc",autoDismiss:0,action:{label:"Undo",callback:function(){this.undoData(this.state.currentRecordState,e)}.bind(this)},onRemove:function(e){1==t.isPrimary&&0!==this.state.addressdetails.length&&1==this.state.undoFlag&&(this.state.addressdetails[0].isPrimary=!0),this.setState({undoFlag:!1})}.bind(this)})}},{key:"selectOtherType",value:function(e,t){"other"==t.target.value&&(v.default.findDOMNode(this.refs.add_value).value="",t.target.selectedIndex="0",this.setState({addType:e}),$("#select-addType").modal("show"))}},{key:"handleAddOtherPopup",value:function(e){if((0,P.default)("#addOtherStatusType").valid()){toastr.remove(),e.preventDefault();var t=v.default.findDOMNode(this.refs.add_value).value,a=this.state.addType;if(t.trim()){switch(a){case"Type":this.props.actions.addOtherType(t);break;case"Status":this.props.actions.addOtherStatus(t.trim());break;case"Source":this.props.actions.addOtherSource(t);break;case"Department":this.props.actions.addOtherDepartment(t);break;case"Industry":this.props.actions.addOtherIndustry(t);break;case"Keyword":this.props.actions.addOtherKeyword(t)}$("#select-addType").modal("hide")}}}},{key:"handleParentCompanyChange",value:function(e){""==e?this.setState({parentCompanyValue:e,parentCompanyNoResult:"Search for Sales Rep"}):this.setState({parentCompanyValue:e})}},{key:"onParentCompanyInputChange",value:function(e){if(e.trim()){var t={companyId:localStorage.companyId,companyContactId:this.props.params.companyId};this.setState({query:t}),this.handleParentSearchDebounced()}else this.setState({parentCompanyOptions:[]})}},{key:"setTab",value:function(e){e&&this.setState({activeTabName:e})}},{key:"handleDelete",value:function(e,t){toastr.remove(),this.state._notificationSystem=this.refs.notificationSystem,this.state.undoFlag?toastr.error(te.COMPLETE_UNDO_OPERATION):this.state.undoFlag||(this.setState({deleteIndex:t,recordType:e}),$("#contact_record_remove").modal("show"))}},{key:"removeRecordHandler",value:function(){"phone"===this.state.recordType?this.removePhone(this.state.deleteIndex):"mail"===this.state.recordType?this.removeMail(this.state.deleteIndex):"address"===this.state.recordType&&this.removeAddress(this.state.deleteIndex)}},{key:"imageUpdateHandler",value:function(e){this.state.imageChange=!0;var t=void 0,a=void 0;e.target.value?(t=this.props.params.companyId,a=v.default.findDOMNode(this.refs.contactFileUpload).files[0],(0,G.isValidImage)(a.name)||(t="")):t="",t&&this.props.actions.updateCompanyPicture(a,t)}},{key:"imageRemoveHandler",value:function(){if(this.state.imageChange=!0,this.state.imagePath){var e={contactId:this.props.params.companyId};this.props.actions.removeCompanyPicture(e)}}},{key:"updateContact",value:function(){if("tab1"===this.state.activeTabName){var e={contactId:this.props.params.companyId,parentContactId:this.state.parentCompanyValue?this.state.parentCompanyValue.id:"",userId:localStorage.userId,companyId:localStorage.companyId,phone:this.state.phoneDetails,address:this.state.addressdetails,internet:this.state.mailDetails,companyName:v.default.findDOMNode(this.refs.company.refs.compName).value.trim(),contactCompanyId:this.state.contactData._id,webAddress:v.default.findDOMNode(this.refs.webaddress.refs.webAddress).value.trim(),userType:1,statusId:v.default.findDOMNode(this.refs.status.refs.statusVal).value,modifiedBy:localStorage.userName};(0,P.default)("#update_form").valid()&&(K.showLoader("edit_contact"),this.props.actions.updateContact(e,"",1,this.props.params.companyId))}}},{key:"render",value:function(){var e=this.state.contactData;if(e)var t=de,i=this.state.phoneDetails.map(function(e,a){var i=J.removeSpecialCharSpace(e.phone),n=i.length<=11&&i.includes("x")?e.phone.substring(0,e.phone.indexOf("x")):e.phone.replace(/_/g,"");return u.default.createElement("tr",{key:a},u.default.createElement("td",{style:{width:15}},e.isPrimary?t:""),u.default.createElement("td",null,e.phonetype),u.default.createElement("td",null,n),u.default.createElement("td",{className:"text-right"},u.default.createElement("span",{className:"btn btn-icon-only blue info",onClick:this.addUpdatePhone.bind(this,!1,e,a)},ce),u.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,"phone",a)},me)))}.bind(this)),n=this.state.mailDetails.map(function(e,a){return u.default.createElement("tr",{key:a},u.default.createElement("td",{style:{width:15}},e.isPrimary?t:""),u.default.createElement("td",null,e.internetType),u.default.createElement("td",null,e.internetvalue),u.default.createElement("td",{className:"text-right"},u.default.createElement("span",{className:"btn btn-icon-only blue info",onClick:this.addUpdateMail.bind(this,!1,e,a)},fe),u.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,"mail",a)},ue)))}.bind(this)),l=this.state.addressdetails.map(function(e,a){var i="";return 1==e.countryId?i="US":2==e.countryId&&(i="India"),u.default.createElement("tr",{key:a},u.default.createElement("td",{style:{width:15}},e.isPrimary?t:""),u.default.createElement("td",null,e.addressType),u.default.createElement("td",null,e.mapAddress1),u.default.createElement("td",null,e.mapAddress2),u.default.createElement("td",null,e.city),u.default.createElement("td",null,e.state),u.default.createElement("td",null,e.zip),u.default.createElement("td",null,i),u.default.createElement("td",{className:"text-right"},u.default.createElement("span",{className:"btn btn-icon-only blue info",onClick:this.addUpdateAddress.bind(this,!1,e,a)},pe),u.default.createElement("span",{className:"btn btn-icon-only red",onClick:this.handleDelete.bind(this,"address",a)},he)))}.bind(this)),o=this.props.dropdownsList.contactDropdowns.status.map(function(e,t){return u.default.createElement("option",{value:e._id,key:t},e.statusName)}.bind(this)),r={label:e.companyName};var d=this.state.associatedContacts.map(function(e,t){var a=e.phoneInfo.map(function(e,t){if(e.isPrimary)return e.phone}),i=e.internetInfo.map(function(e,t){if(e.isPrimary)return e.internetvalue});return u.default.createElement("tr",{key:t},u.default.createElement("td",null,u.default.createElement("a",{onClick:this.handleContactDetails.bind(this,t)},e.firstname+" "+e.lastname)),u.default.createElement("td",null,e.title?e.title:"-"),u.default.createElement("td",null,e.phoneInfo.length?a:"-"),u.default.createElement("td",null,e.internetInfo.length?i:"-"))}.bind(this));return u.default.createElement("div",null,u.default.createElement("div",{className:"portlet-title tabbable-line "},u.default.createElement(H.default,{ref:"notificationSystem"}),u.default.createElement("ul",{className:"nav nav-tabs "},u.default.createElement("li",{className:"active"},u.default.createElement("a",{href:"#contact-add","data-toggle":"tab",onClick:this.setTab.bind(this,"tab1")},"Company")),u.default.createElement("li",null,u.default.createElement("a",{href:"#contact-moreinfo","data-toggle":"tab",onClick:this.setTab.bind(this,"tab2")},"More Info")),u.default.createElement("div",{className:"form-actions noborder text-right"},u.default.createElement(p.Link,{to:"/company/"+this.props.params.companyId,className:"btn red"},"Cancel"),"  ",u.default.createElement("button",{type:"button",className:"btn blue",onClick:this.updateContact},"Save")))),u.default.createElement("div",{className:"portlet light bordered",id:"edit_contact",ref:"edit_contact"},u.default.createElement("div",{className:"portlet-body"},u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"tab-pane active",id:"contact-add"},ve,u.default.createElement("form",{role:"form",id:"update_form"},u.default.createElement("div",{className:"form-body"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-lg-2 col-md-2 col-sm-4 col-xs-4"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("div",{className:"fileinput fileinput-exists","data-provides":"fileinput"},u.default.createElement("div",{className:"fileinput-preview thumbnail","data-trigger":"fileinput",style:{height:142,width:142}},u.default.createElement("img",{src:this.state.imagePath?this.state.imagePath:a(1420),className:"img-responsive",alt:"Logo",style:{width:200,height:150}})),u.default.createElement("div",null,u.default.createElement("span",{className:"btn red btn-outline btn-file",style:{fontSize:"8px"}},ye,be,u.default.createElement("input",{type:"file",name:"",ref:"contactFileUpload",id:"contactFileUpload",accept:"image/*",onChange:this.imageUpdateHandler})),this.state.imagePath?u.default.createElement("a",{href:"javascript:;",className:"btn red",onClick:this.imageRemoveHandler,style:{fontSize:"8px"}},"Remove"):null)))),u.default.createElement("div",{className:"col-lg-10 col-md-10 col-sm-8 col-xs-12"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-lg-3 col-md-5 col-sm-6 col-xs-12"},u.default.createElement(O.default,s({inputType:"text",parentDivId:"companyField",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Company",name:"compName",ref:"compName",htmlFor:"compName",defaultValue:e?this.state.contactData.companyName:"",key:e?this.state.contactData.companyName:"",required:!0},"ref","company"))),u.default.createElement("div",{className:"col-lg-3 col-md-5 col-sm-6 col-xs-12"},u.default.createElement("div",{id:"parent",className:"form-group form-md-floating-label cstm-select"},ge,u.default.createElement(T.default,{placeholder:"Type to search",value:this.state.parentCompanyValue,name:"parent",id:"parent",ref:"parent",options:this.state.parentCompanyOptions,onChange:this.handleParentCompanyChange.bind(this),onInputChange:this.onParentCompanyInputChange.bind(this)}))),u.default.createElement("div",{className:"col-lg-2 col-md-2 col-sm-6 col-xs-12"},u.default.createElement(w.default,{parentDivClass:"form-group form-md-line-input form-md-floating-label",defaultValue:0!=this.props.dropdownsList.contactDropdowns.status.length?e.contactStatusId:"",key:0!=this.props.dropdownsList.contactDropdowns.status.length?e.contactStatusId:"",className:"form-control edited",handleOnChange:this.selectOtherType.bind(this,"Status"),title:"Status",name:"contactStatus",options:o,ref:"status",id:"statusVal",htmlFor:"statusVal",placeholder:"Select",required:!0,defaultSelect:!0,other:!0})),u.default.createElement("div",{className:"col-lg-4 col-md-4 col-sm-6 col-xs-12"},u.default.createElement(O.default,s({inputType:"text",parentDivId:"webField",parentDivClass:"form-group form-md-line-input form-md-floating-label",className:"form-control",title:"Web Address",name:"webAddress",ref:"webAddress",htmlFor:"webAddress",defaultValue:e?this.state.contactData.webAddress:"",key:e?this.state.contactData.webAddress:"",required:!1},"ref","webaddress")))))),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-lg-6 col-md-12"},u.default.createElement("div",{className:"portlet blue-hoki box"},u.default.createElement("div",{className:"portlet-title"},Ee,u.default.createElement("div",{className:"actions"},u.default.createElement("a",{className:"btn btn-default btn-sm",href:"javascript:;",onClick:this.addUpdatePhone.bind(this,!0,"","")},Ne," Add"))),u.default.createElement("div",{className:"portlet-body",style:{padding:0}},u.default.createElement("div",{className:"table-responsive"},u.default.createElement("table",{className:"table table-hover table-bordered table-striped",style:{marginBottom:0}},De,u.default.createElement("tbody",null,i)))))),u.default.createElement("div",{className:"col-lg-6 col-md-12"},u.default.createElement("div",{className:"portlet green-meadow box"},u.default.createElement("div",{className:"portlet-title"},Se,u.default.createElement("div",{className:"actions"},u.default.createElement("a",{className:"btn btn-default btn-sm",href:"javascript:;",onClick:this.addUpdateMail.bind(this,!0,"","")},Ce," Add"))),u.default.createElement("div",{className:"portlet-body",style:{padding:0}},u.default.createElement("div",{className:"table-responsive"},u.default.createElement("table",{className:"table table-hover table-bordered table-striped",style:{marginBottom:0}},ke,u.default.createElement("tbody",null,n)))))),u.default.createElement("div",{className:"col-lg-12 col-md-12"},u.default.createElement("div",{className:"portlet red-sunglo box"},u.default.createElement("div",{className:"portlet-title"},_e,u.default.createElement("div",{className:"actions"},u.default.createElement("a",{className:"btn btn-default btn-sm",href:"javascript:;",onClick:this.addUpdateAddress.bind(this,!0,"","")},xe," Add"))),u.default.createElement("div",{className:"portlet-body",style:{padding:0}},u.default.createElement("div",{className:"table-responsive"},u.default.createElement("table",{className:"table table-hover table-bordered table-striped",style:{marginBottom:0}},Oe,u.default.createElement("tbody",null,l)))))),u.default.createElement("div",{className:"col-lg-12 col-md-12"},u.default.createElement("div",{className:"portlet grey-cascade box"},u.default.createElement("div",{className:"portlet-title"},Me,u.default.createElement("div",{className:"actions"},u.default.createElement("a",{className:"btn btn-default btn-sm",href:"javascript:;",onClick:this.addAssocitedContact},we," Add"))),u.default.createElement("div",{className:"portlet-body",style:{padding:0}},u.default.createElement("div",{className:"table-responsive"},u.default.createElement("table",{className:"table table-hover table-bordered table-striped",style:{marginBottom:0}},Ie,u.default.createElement("tbody",null,d)))))))))),u.default.createElement("div",{className:"tab-pane",id:"contact-moreinfo"},Te,u.default.createElement("div",{className:"portlet-body"},u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"tab-pane active",id:"user-details"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("div",{className:"form-control form-control-static"},e?e.createdBy:"-"),Ae)),u.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("div",{className:"form-control form-control-static"},e?(0,S.default)(e.createdAt).format("LLL"):"-"),Pe)),u.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("div",{className:"form-control form-control-static"},e.modifiedBy?e.modifiedBy:"-"),Le)),u.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("div",{className:"form-control form-control-static"},e.modifiedBy?(0,S.default)(e.updatedAt).format("LLL"):"-"),Ue))))))),u.default.createElement("div",{id:"select-addType",className:"modal fade bs-modal-sm",tabIndex:"-1","aria-hidden":"true"},u.default.createElement("form",{role:"form",id:"addOtherStatusType"},u.default.createElement("div",{className:"modal-dialog modal-sm",style:{marginTop:"230px"}},u.default.createElement("div",{className:"modal-content"},u.default.createElement("div",{className:"modal-header"},u.default.createElement("div",{className:"actions"},u.default.createElement("h5",{className:"modal-title"},"Add ",this.state.addType))),u.default.createElement("div",{className:"modal-body"},u.default.createElement("input",{type:"text",className:"form-control",id:"add_value",name:"add_value",ref:"add_value",defaultValue:""})),u.default.createElement("div",{className:"modal-footer"},We,u.default.createElement("button",{type:"button",className:"btn green",id:"send-invite-button",onClick:this.handleAddOtherPopup},"Done")))))),u.default.createElement(F.default,{deleteModalId:"contact_record_remove",deleteUserHandler:this.removeRecordHandler}),u.default.createElement(B.default,{modalId:"phoneUpdate",header:"Phone Update",addDone:this.addPhone},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-2"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("label",{className:"rememberme mt-checkbox mt-checkbox-outline"},u.default.createElement("input",{type:"checkbox",ref:"phone_CheckVal",onChange:this.primaryCheck.bind(this,"phone"),defaultChecked:""}),Ve,"Primary"))),u.default.createElement("div",{className:"col-md-5"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("select",{className:"form-control edited",id:"phonetype",ref:"phonetype"},Fe,Re,He,je,Be))),u.default.createElement("div",{className:"col-md-5"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement(k.default,{className:"form-control",id:"phone",ref:"phone",name:"phone",mask:"(999) 999-9999  x99999"}),ze)))),u.default.createElement(B.default,{modalId:"emailUpdate",header:"Email Detail",addDone:this.addMail},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-2"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("label",{className:"rememberme mt-checkbox mt-checkbox-outline"},u.default.createElement("input",{type:"checkbox",ref:"mail_CheckVal",onChange:this.primaryCheck.bind(this,"mail"),defaultChecked:""}),$e,"Primary"))),u.default.createElement("div",{className:"col-md-5"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("select",{className:"form-control edited",id:"mailtype",ref:"mailtype"},qe))),u.default.createElement("div",{className:"col-md-5"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("input",{type:"text",className:"form-control",id:"mail",ref:"mail",name:"mail"}),Ze)))),u.default.createElement(B.default,{modalId:"addressUpdate",header:"Address Detail",addDone:this.addAddress},u.default.createElement("form",{role:"form",id:"validateAdd"},u.default.createElement("div",{className:"form-body"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-2"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("label",{className:"rememberme mt-checkbox mt-checkbox-outline",style:{marginBottom:"2px"}},u.default.createElement("input",{type:"checkbox",ref:"address_CheckVal",onChange:this.primaryCheck.bind(this,"address"),defaultChecked:""}),Je,"Primary"))),u.default.createElement("div",{className:"col-md-5"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("select",{className:"form-control edited",id:"addresstype",ref:"addresstype"},Qe))),u.default.createElement("div",{className:"col-md-5"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label"},u.default.createElement("select",{className:"form-control edited",id:"country",ref:"country"},Ke,Ge))),u.default.createElement("div",{className:"col-md-6"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label contactAddrss"},u.default.createElement("input",{type:"text",className:"form-control",id:"address1",maxLength:"150",ref:"address1",name:"address1"}),Xe)),u.default.createElement("div",{className:"col-md-6"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label contactAddrss"},u.default.createElement("input",{type:"text",className:"form-control",id:"address2",maxLength:"150",ref:"address2",name:"address2"}),Ye)),u.default.createElement("div",{className:"col-md-4"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label contactAddrss"},u.default.createElement("input",{type:"text",className:"form-control",id:"addCity",maxLength:"150",ref:"addCity",name:"addCity"}),et)),u.default.createElement("div",{className:"col-md-4"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label contactAddrss"},u.default.createElement("input",{type:"text",className:"form-control",id:"addState",maxLength:"150",ref:"addState",name:"addState"}),tt)),u.default.createElement("div",{className:"col-md-4"},u.default.createElement("div",{className:"form-group form-md-line-input form-md-floating-label contactAddrss"},u.default.createElement("input",{type:"text",className:"form-control",maxLength:"5",id:"addZip",ref:"addZip",name:"addZip"}),at)))))),u.default.createElement(q.default,{ref:"contactAssociated",addContactModalId:"associtedCont",companyValue:e?r:"",contactAddhandler:this.handleContactAdd})))))}}]),t}(u.default.Component);t.default=(0,y.connect)(d,c)(it)},1420:function(e,t,a){e.exports=a.p+"itemlogo.png"},1424:function(e,t){var a={positions:{tl:"tl",tr:"tr",tc:"tc",bl:"bl",br:"br",bc:"bc"},levels:{success:"success",error:"error",warning:"warning",info:"info"},notification:{title:null,message:null,level:null,position:"tr",autoDismiss:5,dismissible:!0,action:null}};e.exports=a},1465:function(e,t,a){var i=a(0),n=a(86),s=a(13),l=a(1466),o=a(1424),r=n({propTypes:{position:s.string.isRequired,notifications:s.array.isRequired,getStyles:s.object},_style:{},componentWillMount:function(){this._style=this.props.getStyles.container(this.props.position),!this.props.getStyles.overrideWidth||this.props.position!==o.positions.tc&&this.props.position!==o.positions.bc||(this._style.marginLeft=-this.props.getStyles.overrideWidth/2)},render:function(){var e,t=this;return[o.positions.bl,o.positions.br,o.positions.bc].indexOf(this.props.position)>-1&&this.props.notifications.reverse(),e=this.props.notifications.map(function(e){return i.createElement(l,{ref:"notification-"+e.uid,key:e.uid,notification:e,getStyles:t.props.getStyles,onRemove:t.props.onRemove,noAnimation:t.props.noAnimation,allowHTML:t.props.allowHTML,children:t.props.children})}),i.createElement("div",{className:"notifications-"+this.props.position,style:this._style},e)}});e.exports=r},1466:function(e,t,a){var i=a(0),n=a(86),s=a(13),l=a(7),o=a(1424),r=a(1468),d=a(21),c=function(){var e,t=document.createElement("fakeelement"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};return Object.keys(a).forEach(function(i){void 0!==t.style[i]&&(e=a[i])}),e},m=n({propTypes:{notification:s.object,getStyles:s.object,onRemove:s.func,allowHTML:s.bool,noAnimation:s.bool,children:s.oneOfType([s.string,s.element])},getDefaultProps:function(){return{noAnimation:!1,onRemove:function(){},allowHTML:!1}},getInitialState:function(){return{visible:void 0,removed:!1}},componentWillMount:function(){var e=this.props.getStyles,t=this.props.notification.level;this._noAnimation=this.props.noAnimation,this._styles={notification:e.byElement("notification")(t),title:e.byElement("title")(t),dismiss:e.byElement("dismiss")(t),messageWrapper:e.byElement("messageWrapper")(t),actionWrapper:e.byElement("actionWrapper")(t),action:e.byElement("action")(t)},this.props.notification.dismissible||(this._styles.notification.cursor="default")},_styles:{},_notificationTimer:null,_height:0,_noAnimation:null,_isMounted:!1,_removeCount:0,_getCssPropertyByPosition:function(){var e=this.props.notification.position,t={};switch(e){case o.positions.tl:case o.positions.bl:t={property:"left",value:-200};break;case o.positions.tr:case o.positions.br:t={property:"right",value:-200};break;case o.positions.tc:t={property:"top",value:-100};break;case o.positions.bc:t={property:"bottom",value:-100}}return t},_defaultAction:function(e){var t=this.props.notification;e.preventDefault(),this._hideNotification(),"function"==typeof t.action.callback&&t.action.callback()},_hideNotification:function(){this._notificationTimer&&this._notificationTimer.clear(),this._isMounted&&this.setState({visible:!1,removed:!0}),this._noAnimation&&this._removeNotification()},_removeNotification:function(){this.props.onRemove(this.props.notification.uid)},_dismiss:function(){this.props.notification.dismissible&&this._hideNotification()},_showNotification:function(){var e=this;setTimeout(function(){e._isMounted&&e.setState({visible:!0})},50)},_onTransitionEnd:function(){this._removeCount>0||this.state.removed&&(this._removeCount++,this._removeNotification())},componentDidMount:function(){var e=this,t=c(),a=this.props.notification,i=l.findDOMNode(this);this._height=i.offsetHeight,this._isMounted=!0,this._noAnimation||(t?i.addEventListener(t,this._onTransitionEnd):this._noAnimation=!0),a.autoDismiss&&(this._notificationTimer=new r.Timer(function(){e._hideNotification()},1e3*a.autoDismiss)),this._showNotification()},_handleMouseEnter:function(){this.props.notification.autoDismiss&&this._notificationTimer.pause()},_handleMouseLeave:function(){this.props.notification.autoDismiss&&this._notificationTimer.resume()},componentWillUnmount:function(){var e=l.findDOMNode(this),t=c();e.removeEventListener(t,this._onTransitionEnd),this._isMounted=!1},_allowHTML:function(e){return{__html:e}},render:function(){var e=this.props.notification,t="notification notification-"+e.level,a=d({},this._styles.notification),n=this._getCssPropertyByPosition(),s=null,l=null,o=null,r=null;return this.state.visible?t+=" notification-visible":!1===this.state.visible&&(t+=" notification-hidden"),e.dismissible||(t+=" notification-not-dismissible"),this.props.getStyles.overrideStyle&&(this.state.visible||this.state.removed||(a[n.property]=n.value),this.state.visible&&!this.state.removed&&(a.height=this._height,a[n.property]=0),this.state.removed&&(a.overlay="hidden",a.height=0,a.marginTop=0,a.paddingTop=0,a.paddingBottom=0),a.opacity=this.state.visible?this._styles.notification.isVisible.opacity:this._styles.notification.isHidden.opacity),e.title&&(o=i.createElement("h4",{className:"notification-title",style:this._styles.title},e.title)),e.message&&(r=this.props.allowHTML?i.createElement("div",{className:"notification-message",style:this._styles.messageWrapper,dangerouslySetInnerHTML:this._allowHTML(e.message)}):i.createElement("div",{className:"notification-message",style:this._styles.messageWrapper},e.message)),e.dismissible&&(s=i.createElement("span",{className:"notification-dismiss",style:this._styles.dismiss},"×")),e.action&&(l=i.createElement("div",{className:"notification-action-wrapper",style:this._styles.actionWrapper},i.createElement("button",{className:"notification-action-button",onClick:this._defaultAction,style:this._styles.action},e.action.label))),e.children&&(l=e.children),i.createElement("div",{className:t,onClick:this._dismiss,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,style:a},o,r,s,l)}});e.exports=m},1467:function(e,t,a){var i=a(0),n=a(86),s=a(13),l=a(21),o=a(1465),r=a(1424),d=a(1469),c=n({uid:3400,_isMounted:!1,_getStyles:{overrideStyle:{},overrideWidth:null,setOverrideStyle:function(e){this.overrideStyle=e},wrapper:function(){return this.overrideStyle?l({},d.Wrapper,this.overrideStyle.Wrapper):{}},container:function(e){var t=this.overrideStyle.Containers||{};return this.overrideStyle?(this.overrideWidth=d.Containers.DefaultStyle.width,t.DefaultStyle&&t.DefaultStyle.width&&(this.overrideWidth=t.DefaultStyle.width),t[e]&&t[e].width&&(this.overrideWidth=t[e].width),l({},d.Containers.DefaultStyle,d.Containers[e],t.DefaultStyle,t[e])):{}},elements:{notification:"NotificationItem",title:"Title",messageWrapper:"MessageWrapper",dismiss:"Dismiss",action:"Action",actionWrapper:"ActionWrapper"},byElement:function(e){var t=this;return function(a){var i=t.elements[e],n=t.overrideStyle[i]||{};return t.overrideStyle?l({},d[i].DefaultStyle,d[i][a],n.DefaultStyle,n[a]):{}}}},_didNotificationRemoved:function(e){var t,a=this.state.notifications.filter(function(a){return a.uid!==e||(t=a,!1)});this._isMounted&&this.setState({notifications:a}),t&&t.onRemove&&t.onRemove(t)},getInitialState:function(){return{notifications:[]}},propTypes:{style:s.oneOfType([s.bool,s.object]),noAnimation:s.bool,allowHTML:s.bool},getDefaultProps:function(){return{style:{},noAnimation:!1,allowHTML:!1}},addNotification:function(e){var t,a=l({},r.notification,e),i=this.state.notifications;if(!a.level)throw new Error("notification level is required.");if(-1===Object.keys(r.levels).indexOf(a.level))throw new Error("'"+a.level+"' is not a valid level.");if(isNaN(a.autoDismiss))throw new Error("'autoDismiss' must be a number.");if(-1===Object.keys(r.positions).indexOf(a.position))throw new Error("'"+a.position+"' is not a valid position.");for(a.position=a.position.toLowerCase(),a.level=a.level.toLowerCase(),a.autoDismiss=parseInt(a.autoDismiss,10),a.uid=a.uid||this.uid,a.ref="notification-"+a.uid,this.uid+=1,t=0;t<i.length;t++)if(i[t].uid===a.uid)return!1;return i.push(a),"function"==typeof a.onAdd&&e.onAdd(a),this.setState({notifications:i}),a},getNotificationRef:function(e){var t=this,a=null;return Object.keys(this.refs).forEach(function(i){i.indexOf("container")>-1&&Object.keys(t.refs[i].refs).forEach(function(n){if(n==="notification-"+(e.uid?e.uid:e))return void(a=t.refs[i].refs[n])})}),a},removeNotification:function(e){var t=this.getNotificationRef(e);return t&&t._hideNotification()},editNotification:function(e,t){var a=null,i=e.uid?e.uid:e,n=this.state.notifications.filter(function(e){return i!==e.uid||(a=e,!1)});a&&(n.push(l({},a,t)),this.setState({notifications:n}))},clearNotifications:function(){var e=this;Object.keys(this.refs).forEach(function(t){t.indexOf("container")>-1&&Object.keys(e.refs[t].refs).forEach(function(a){e.refs[t].refs[a]._hideNotification()})})},componentDidMount:function(){this._getStyles.setOverrideStyle(this.props.style),this._isMounted=!0},componentWillUnmount:function(){this._isMounted=!1},render:function(){var e=this,t=null,a=this.state.notifications;return a.length&&(t=Object.keys(r.positions).map(function(t){var n=a.filter(function(e){return t===e.position});return n.length?i.createElement(o,{ref:"container-"+t,key:t,position:t,notifications:n,getStyles:e._getStyles,onRemove:e._didNotificationRemoved,noAnimation:e.props.noAnimation,allowHTML:e.props.allowHTML}):null})),i.createElement("div",{className:"notifications-wrapper",style:this._getStyles.wrapper()},t)}});e.exports=c},1468:function(e,t){var a={Timer:function(e,t){var a,i,n=t;this.pause=function(){clearTimeout(a),n-=new Date-i},this.resume=function(){i=new Date,clearTimeout(a),a=setTimeout(e,n)},this.clear=function(){clearTimeout(a)},this.resume()}};e.exports=a},1469:function(e,t){var a=320,i={success:{rgb:"94, 164, 0",hex:"#5ea400"},error:{rgb:"236, 61, 61",hex:"#ec3d3d"},warning:{rgb:"235, 173, 23",hex:"#ebad1a"},info:{rgb:"54, 156, 199",hex:"#369cc7"}},n="0.9",s={Wrapper:{},Containers:{DefaultStyle:{fontFamily:"inherit",position:"fixed",width:a,padding:"0 10px 10px 10px",zIndex:9998,WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",height:"auto"},tl:{top:"0px",bottom:"auto",left:"0px",right:"auto"},tr:{top:"0px",bottom:"auto",left:"auto",right:"0px"},tc:{top:"0px",bottom:"auto",margin:"0 auto",left:"50%",marginLeft:-a/2},bl:{top:"auto",bottom:"0px",left:"0px",right:"auto"},br:{top:"auto",bottom:"0px",left:"auto",right:"0px"},bc:{top:"auto",bottom:"0px",margin:"0 auto",left:"50%",marginLeft:-a/2}},NotificationItem:{DefaultStyle:{position:"relative",width:"100%",cursor:"pointer",borderRadius:"2px",fontSize:"13px",margin:"10px 0 0",padding:"10px",display:"block",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",opacity:0,transition:"0.3s ease-in-out",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",willChange:"transform, opacity",isHidden:{opacity:0},isVisible:{opacity:1}},success:{borderTop:"2px solid "+i.success.hex,backgroundColor:"#f0f5ea",color:"#4b583a",WebkitBoxShadow:"0 0 1px rgba("+i.success.rgb+","+n+")",MozBoxShadow:"0 0 1px rgba("+i.success.rgb+","+n+")",boxShadow:"0 0 1px rgba("+i.success.rgb+","+n+")"},error:{borderTop:"2px solid "+i.error.hex,backgroundColor:"#f4e9e9",color:"#412f2f",WebkitBoxShadow:"0 0 1px rgba("+i.error.rgb+","+n+")",MozBoxShadow:"0 0 1px rgba("+i.error.rgb+","+n+")",boxShadow:"0 0 1px rgba("+i.error.rgb+","+n+")"},warning:{borderTop:"2px solid "+i.warning.hex,backgroundColor:"#f9f6f0",color:"#5a5343",WebkitBoxShadow:"0 0 1px rgba("+i.warning.rgb+","+n+")",MozBoxShadow:"0 0 1px rgba("+i.warning.rgb+","+n+")",boxShadow:"0 0 1px rgba("+i.warning.rgb+","+n+")"},info:{borderTop:"2px solid "+i.info.hex,backgroundColor:"#e8f0f4",color:"#41555d",WebkitBoxShadow:"0 0 1px rgba("+i.info.rgb+","+n+")",MozBoxShadow:"0 0 1px rgba("+i.info.rgb+","+n+")",boxShadow:"0 0 1px rgba("+i.info.rgb+","+n+")"}},Title:{DefaultStyle:{fontSize:"14px",margin:"0 0 5px 0",padding:0,fontWeight:"bold"},success:{color:i.success.hex},error:{color:i.error.hex},warning:{color:i.warning.hex},info:{color:i.info.hex}},MessageWrapper:{DefaultStyle:{margin:0,padding:0}},Dismiss:{DefaultStyle:{fontFamily:"Arial",fontSize:"17px",position:"absolute",top:"4px",right:"5px",lineHeight:"15px",backgroundColor:"#dededf",color:"#ffffff",borderRadius:"50%",width:"14px",height:"14px",fontWeight:"bold",textAlign:"center"},success:{color:"#f0f5ea",backgroundColor:"#b0ca92"},error:{color:"#f4e9e9",backgroundColor:"#e4bebe"},warning:{color:"#f9f6f0",backgroundColor:"#e1cfac"},info:{color:"#e8f0f4",backgroundColor:"#a4becb"}},Action:{DefaultStyle:{background:"#ffffff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:i.success.hex,color:"#ffffff"},error:{backgroundColor:i.error.hex,color:"#ffffff"},warning:{backgroundColor:i.warning.hex,color:"#ffffff"},info:{backgroundColor:i.info.hex,color:"#ffffff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}};e.exports=s}});